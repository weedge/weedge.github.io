<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>译：相似性搜索，第 7 部分：LSH 组合 - 时间飘过</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="weedge" />
  <meta name="description" content="深入研究 LSH 函数的组合以保证更可靠的搜索
介绍 在数据科学中，相似性搜索经常出现在 NLP 领域、搜索引擎或推荐系统中，其中需要检索最相关的文档或项目以进行查询。有多种不同的方法可以提高海量数据的搜索性能。
在本系列文章的最后两部分中，我们深入研究了 LSH —— 一种将输入向量转换为低维散列值，同时保留有关其相似性的信息的算法。特别是，我们已经研究了两种适用于不同距离度量的算法：
相似性搜索，第 5 部分：局部敏感哈希 (LSH): 经典的LSH算法构造反映向量Jaccard系数信息的签名。
相似性搜索，第 6 部分：LSH 森林的随机投影: 随机投影方法构建了保持向量余弦相似性的超平面森林。
事实上，LSH 算法也适用于其他距离度量。尽管每种方法都有其独特的部分，但每种方法中都出现了许多共同的概念和公式。为了促进未来新方法的学习过程，我们将更多地关注理论并提供一些经常出现在高级 LSH 文献中的基本定义和定理。在本文结束时，我们将能够通过简单地将基本方案组合为乐高积木来构建更复杂的 LSH 方案。
最后我们将了解如何将欧几里得距离纳入 LSH 中。
注意：
  作为主要先决条件，您应该已经熟悉本系列文章的第 5 部分和第 6 部分。如果没有，强烈建议先阅读它们。
  余弦距离定义在 [0, 2] 范围内。为简单起见，我们将其映射到区间 [0, 1]，其中 0 和 1 分别表示最低和最高可能的相似度。
 " />

  <meta name="keywords" content="工作, 技术, 生活" />






<meta name="generator" content="Hugo 0.91.0" />


<link rel="canonical" href="https://weedge.github.io/post/oneday/similarity-search/7.lsh-compositions/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.fa4b2b9f31b5c6d0b683db81157a9226e17b06e61911791ab547242a4a0556f2.css" integrity="sha256-&#43;ksrnzG1xtC2g9uBFXqSJuF7BuYZEXkatUckKkoFVvI=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/css/copy-to-clipboard.css">


<meta property="og:title" content="译：相似性搜索，第 7 部分：LSH 组合" />
<meta property="og:description" content="
深入研究 LSH 函数的组合以保证更可靠的搜索
介绍
在数据科学中，相似性搜索经常出现在 NLP 领域、搜索引擎或推荐系统中，其中需要检索最相关的文档或项目以进行查询。有多种不同的方法可以提高海量数据的搜索性能。
在本系列文章的最后两部分中，我们深入研究了 LSH —— 一种将输入向量转换为低维散列值，同时保留有关其相似性的信息的算法。特别是，我们已经研究了两种适用于不同距离度量的算法：
相似性搜索，第 5 部分：局部敏感哈希 (LSH): 经典的LSH算法构造反映向量Jaccard系数信息的签名。
相似性搜索，第 6 部分：LSH 森林的随机投影: 随机投影方法构建了保持向量余弦相似性的超平面森林。
事实上，LSH 算法也适用于其他距离度量。尽管每种方法都有其独特的部分，但每种方法中都出现了许多共同的概念和公式。为了促进未来新方法的学习过程，我们将更多地关注理论并提供一些经常出现在高级 LSH 文献中的基本定义和定理。在本文结束时，我们将能够通过简单地将基本方案组合为乐高积木来构建更复杂的 LSH 方案。
最后我们将了解如何将欧几里得距离纳入 LSH 中。
注意：


作为主要先决条件，您应该已经熟悉本系列文章的第 5 部分和第 6 部分。如果没有，强烈建议先阅读它们。


余弦距离定义在 [0, 2] 范围内。为简单起见，我们将其映射到区间 [0, 1]，其中 0 和 1 分别表示最低和最高可能的相似度。

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://weedge.github.io/post/oneday/similarity-search/7.lsh-compositions/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-09-26T23:26:23+08:00" />
<meta property="article:modified_time" content="2023-09-26T23:26:23+08:00" />

<meta itemprop="name" content="译：相似性搜索，第 7 部分：LSH 组合">
<meta itemprop="description" content="
深入研究 LSH 函数的组合以保证更可靠的搜索
介绍
在数据科学中，相似性搜索经常出现在 NLP 领域、搜索引擎或推荐系统中，其中需要检索最相关的文档或项目以进行查询。有多种不同的方法可以提高海量数据的搜索性能。
在本系列文章的最后两部分中，我们深入研究了 LSH —— 一种将输入向量转换为低维散列值，同时保留有关其相似性的信息的算法。特别是，我们已经研究了两种适用于不同距离度量的算法：
相似性搜索，第 5 部分：局部敏感哈希 (LSH): 经典的LSH算法构造反映向量Jaccard系数信息的签名。
相似性搜索，第 6 部分：LSH 森林的随机投影: 随机投影方法构建了保持向量余弦相似性的超平面森林。
事实上，LSH 算法也适用于其他距离度量。尽管每种方法都有其独特的部分，但每种方法中都出现了许多共同的概念和公式。为了促进未来新方法的学习过程，我们将更多地关注理论并提供一些经常出现在高级 LSH 文献中的基本定义和定理。在本文结束时，我们将能够通过简单地将基本方案组合为乐高积木来构建更复杂的 LSH 方案。
最后我们将了解如何将欧几里得距离纳入 LSH 中。
注意：


作为主要先决条件，您应该已经熟悉本系列文章的第 5 部分和第 6 部分。如果没有，强烈建议先阅读它们。


余弦距离定义在 [0, 2] 范围内。为简单起见，我们将其映射到区间 [0, 1]，其中 0 和 1 分别表示最低和最高可能的相似度。

"><meta itemprop="datePublished" content="2023-09-26T23:26:23+08:00" />
<meta itemprop="dateModified" content="2023-09-26T23:26:23+08:00" />
<meta itemprop="wordCount" content="4021">
<meta itemprop="keywords" content="oneday,similarity search,Locality Sensitive Hashing ,lsh,compositions," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="译：相似性搜索，第 7 部分：LSH 组合"/>
<meta name="twitter:description" content="
深入研究 LSH 函数的组合以保证更可靠的搜索
介绍
在数据科学中，相似性搜索经常出现在 NLP 领域、搜索引擎或推荐系统中，其中需要检索最相关的文档或项目以进行查询。有多种不同的方法可以提高海量数据的搜索性能。
在本系列文章的最后两部分中，我们深入研究了 LSH —— 一种将输入向量转换为低维散列值，同时保留有关其相似性的信息的算法。特别是，我们已经研究了两种适用于不同距离度量的算法：
相似性搜索，第 5 部分：局部敏感哈希 (LSH): 经典的LSH算法构造反映向量Jaccard系数信息的签名。
相似性搜索，第 6 部分：LSH 森林的随机投影: 随机投影方法构建了保持向量余弦相似性的超平面森林。
事实上，LSH 算法也适用于其他距离度量。尽管每种方法都有其独特的部分，但每种方法中都出现了许多共同的概念和公式。为了促进未来新方法的学习过程，我们将更多地关注理论并提供一些经常出现在高级 LSH 文献中的基本定义和定理。在本文结束时，我们将能够通过简单地将基本方案组合为乐高积木来构建更复杂的 LSH 方案。
最后我们将了解如何将欧几里得距离纳入 LSH 中。
注意：


作为主要先决条件，您应该已经熟悉本系列文章的第 5 部分和第 6 部分。如果没有，强烈建议先阅读它们。


余弦距离定义在 [0, 2] 范围内。为简单起见，我们将其映射到区间 [0, 1]，其中 0 和 1 分别表示最低和最高可能的相似度。

"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->







</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">时间飘过</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/about/">About</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/perf-book-cn/zh/" rel="noopener" target="_blank">
              《现代CPU性能分析与优化》
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      时间飘过
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/about/">About</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://weedge.github.io/perf-book-cn/zh/" rel="noopener" target="_blank">
              《现代CPU性能分析与优化》
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">译：相似性搜索，第 7 部分：LSH 组合</h1>
      
      <div class="post-meta">
        <time datetime="2023-09-26" class="post-time">
          2023-09-26
        </time>
        <div class="post-category">
            <a href="https://weedge.github.io/categories/%E6%8A%80%E6%9C%AF/"> 技术 </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#lsh-示例">LSH 示例</a></li>
  </ul>

  <ul>
    <li><a href="#与运算符and-operator">与运算符(AND operator)</a></li>
    <li><a href="#或运算符or-operator">或运算符(OR operator)</a></li>
    <li><a href="#组合composition">组合(Composition)</a></li>
    <li><a href="#构图示例">构图示例</a></li>
  </ul>

  <ul>
    <li><a href="#欧几里得euclidean距离的-lsh">欧几里得(Euclidean)距离的 LSH</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/0.png" alt=""></p>
<p><strong>深入研究 LSH 函数的组合以保证更可靠的搜索</strong></p>
<h1 id="介绍">介绍</h1>
<p>在数据科学中，相似性搜索经常出现在 NLP 领域、搜索引擎或推荐系统中，其中需要检索最相关的文档或项目以进行查询。有多种不同的方法可以提高海量数据的搜索性能。</p>
<p>在本系列文章的最后两部分中，我们深入研究了 LSH —— 一种<em>将输入向量转换为低维散列值，同时保留有关其相似性的信息</em>的算法。特别是，我们已经研究了两种适用于不同距离度量的算法：</p>
<p><a href="https://weedge.github.io/post/oneday/similarity-search/5.locality-sensitive-hashing/">相似性搜索，第 5 部分：局部敏感哈希 (LSH)</a>: 经典的LSH算法构造反映向量<strong>Jaccard系数</strong>信息的签名。</p>
<p><a href="https://weedge.github.io/post/oneday/similarity-search/6.random-projections-with-lsh-forest/">相似性搜索，第 6 部分：LSH 森林的随机投影</a>: 随机投影方法构建了保持向量<strong>余弦相似性</strong>的超平面森林。</p>
<p>事实上，LSH 算法也适用于其他距离度量。尽管每种方法都有其独特的部分，但每种方法中都出现了许多共同的概念和公式。为了促进未来新方法的学习过程，我们将更多地关注理论并提供一些经常出现在高级 LSH 文献中的基本定义和定理。在本文结束时，我们将能够通过简单地将基本方案组合为乐高积木来构建更复杂的 LSH 方案。</p>
<p>最后我们将了解如何将<strong>欧几里得距离</strong>纳入 LSH 中。</p>
<p><em>注意</em>：</p>
<ul>
<li>
<p>作为主要先决条件，您应该已经熟悉本系列文章的第 5 部分和第 6 部分。如果没有，强烈建议先阅读它们。</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Cosine_similarity">余弦距离</a>定义在 [0, 2] 范围内。为简单起见，我们将其映射到区间 [0, 1]，其中 0 和 1 分别表示最低和最高可能的相似度。</p>
</li>
</ul>
<h1 id="lsh-的正式定义">LSH 的正式定义</h1>
<blockquote>
<p>给定距离度量 d，如果对于随机选择的对象 x 和 y，满足以下条件，则 H 被称为 (d₁, d2, p₁, p2) 敏感的 LSH 函数：</p>
</blockquote>
<ul>
<li><em>如果 d(x, y) ≤ d₁，则 p(H(x) = H(y)) ≥ p₁，即 H(x) = H(y) 的概率至少为 p₁。</em></li>
<li><em>如果 d(x, y) ≥ d2，则 p(H(x) = H(y)) ≤ p2，即 H(x) = H(y) 的概率至多为 p2。</em></li>
</ul>
<p>让我们了解这些陈述的含义。当两个向量相似时，它们之间的距离较小。基本上，第一个语句确保将它们散列到同一存储桶的概率高于某个阈值。这样，就消除了一些<em>FN 假阴性 漏报</em>：如果两个向量之间的距离大于<em>d₁</em>，那么它们散列到同一桶的概率始终小于<em>p₁</em>。相反，第二条语句控制<em>FP 假阳性 误报</em>：如果两个向量不相似并且它们之间的距离大于<em>d2</em> ，则它们出现在同一桶中的概率上限为<em>p2阈值。</em></p>
<p>考虑到上面的陈述，我们通常希望系统中满足以下陈述：</p>
<ul>
<li><em>p₁</em>应尽可能接近 1，以减少 <em>FN 假阴性 漏报</em> 的数量。</li>
<li><em>p2</em>应尽可能接近 0，以减少 <em>FP 假阳性 误报</em> 的数量。</li>
<li><em>d₁</em>和<em>d2</em>之间的差距应尽可能小，以减少无法对数据进行概率估计的区间。</li>
</ul>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/1.png" alt="img"></p>
<p><em>左图显示了一条典型曲线，展示了 (d1, d2, p1, p2) 符号的 LSH 参数之间的关系。右侧的曲线展示了阈值d₁和d2之间没有间隙的理想情况</em>。</p>
<p>有时，上面的陈述是通过使用相似度<em>s</em>而不是距离<em>d 来引入的：</em></p>
<blockquote>
<p>给定相似性度量 s，如果对于随机选择的对象 x 和 y，满足以下条件，则 H 被称为 (s₁, s2, p₁, p2) 敏感的 LSH 函数：</p>
</blockquote>
<ul>
<li><em>如果 s(x, y) ≥ s₁，则 p(H(x) = H(y)) ≥ p₁，即 H(x) = H(y) 的概率至少为 p₁。</em></li>
<li><em>如果 s(x, y) ≤ s2，则 p(H(x) = H(y)) ≤ p2，即 H(x) = H(y) 的概率至多为 p2。</em></li>
</ul>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/2.png" alt="img"></p>
<p>左图显示了一条典型曲线，展示了 ( <em>s1, s2, p1, p2</em> ) 符号的 LSH 参数之间的关系。右侧的曲线展示了阈值<em>s₁</em>和<em>s2</em>之间没有间隙的理想情况。</p>
<p><em>注意</em>： 在本文中，将使用两种符号 <em>(d1、d2、p1、p2)</em> 和 <em>(s1、s2、p1、p2)</em>。根据文本中符号中使用的字母，应该清楚是暗示距离 <em>d</em> 还是相似度 <em>s</em> 。默认情况下，使用符号 <em>(d₁, d2, p₁, p2)</em>。</p>
<h2 id="lsh-示例">LSH 示例</h2>
<p>为了让事情更清楚，让我们证明以下陈述：</p>
<p>如果距离度量<em>s</em>是 Jaccard 系数，则<em>H</em>是一个 <em>(0.6, 0.6, 0.4, 0.4)</em> 敏感的 LSH 函数。基本上，必须证明等价的陈述：</p>
<ul>
<li><em>如果 d(x, y) ≤ 0.6，则 p(H(x) = H(y)) ≥ 0.4</em></li>
<li><em>如果 d(x, y) ≥ 0.6，则 p(H(x) = H(y)) ≤ 0.4</em></li>
</ul>
<p>从本系列文章的第 5 部分中，我们知道<em>两个二进制向量获得相等哈希值的概率等于 Jaccard 相似度</em>。因此，如果两个向量相似度至少为 40%，那么就保证获得相等哈希值的概率也至少为 40%。同时，至少 40% 的 Jaccard 相似度相当于最多 60% 的 Jaccard 系数。至此，第一个命题得证。对于第二个语句可以进行类似的思考。</p>
<p>这个例子可以推广为定理：</p>
<blockquote>
<p><strong>定理</strong>：如果 d 是Jaccard 系数，则 H 是 LSH 函数的 (d₁, d₂, 1 — d₁, 1 — d₂) 族。</p>
</blockquote>
<p>同样，根据第6部分得到的结果，可以证明另一个定理：</p>
<blockquote>
<p><strong>定理</strong>：如果 s 是余弦相似度（在 -1 和 1 之间），则 H 是 LSH 函数的 (s₁, s2, 1 — arccos(s₁) / 180, 1 — arccos(d₂) / 180) 系列。</p>
</blockquote>
<h1 id="组合-lsh-函数combining-lsh-functions">组合 LSH 函数(Combining LSH functions)</h1>
<p>让我们参考一下之前在 LSH 中学到的有用概念：</p>
<ul>
<li>回到关于 minhashing 的第 5 部分，每个向量都被分成几个band，每个band包含一组行。为了将一对向量视为候选向量，必须存在<strong>至少一个所有</strong>向量行都相等的band。</li>
<li>关于随机投影的第 6 部分，仅当存在至少一棵树且所有随机投影均未分离初始向量时，才将两个向量视为候选向量。</li>
</ul>
<p>我们可以注意到，这两种方法在底层有相似的范例。仅当n 个配置向量中<strong>至少有一次</strong> <em>k</em>次具有相同的哈希值时，它们才将一对向量视为候选向量。使用布尔代数符号，可以写成这样：</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/3.png" alt="img"></p>
<p>基于这个例子，让我们介绍逻辑运算符<em>OR</em>和<em>AND</em>，它们允许聚合一组哈希函数。<em>然后我们将估计它们如何影响两个候选向量的输出概率以及假阴性</em>和<em>假阳性</em>错误率。</p>
<h2 id="与运算符and-operator">与运算符(AND operator)</h2>
<blockquote>
<p>给定 n 个独立的 LSH 函数 H₁、H2、…Hₙ，仅当两个向量的<strong>所有n 个对应哈希值都相等时，</strong> <strong>AND</strong>运算符才会将两个向量视为候选对。否则，向量不被视为候选向量。</p>
</blockquote>
<p><em>如果通过AND</em>运算符聚合两个高度不同的向量的哈希值，那么它们成为候选者的概率随着使用的哈希函数数量的增加而降低。因此，<em>假阳性</em>的数量减少了。</p>
<p>同时，两个相似的向量可能会偶然产生一对不同的哈希值。因此，算法不会认为此类向量相似。这方面导致<em>假阴性率</em>较高。</p>
<blockquote>
<p><strong>定理</strong>：考虑 r 独立 (s₁, s2, p₁, p2) 敏感的 LSH 函数。将这些 r LSH 函数与 AND 运算符组合会产生一个新的 LSH 函数，其参数为</p>
</blockquote>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/4.png" alt="img"></p>
<p>使用几个独立事件的概率公式很容易证明这个说法，该公式乘以所有事件的概率来估计所有事件发生的概率。</p>
<h2 id="或运算符or-operator">或运算符(OR operator)</h2>
<blockquote>
<p>给定 n 个独立的 LSH 函数 H₁、H2、…Hₙ，仅当两个向量的 n 个对应哈希值中<strong>至少有一个相等时，</strong> <strong>OR</strong>运算符才会将两个向量视为候选对。否则，向量不被视为候选向量。</p>
</blockquote>
<p>与<em>AND</em>运算符相反，<em>OR</em>运算符增加了任意两个向量成为候选向量的概率。对于任何向量对，至少有一个对应的哈希值相等就足够了。因此，OR 聚合会减少<em>假阴性</em>的数量并增加<em>假阳性</em>的数量。</p>
<blockquote>
<p><strong>定理</strong>：考虑<em>b 个</em>独立的 (d₁, d2, p₁, p2) 族 LSH 函数。将这<em>b 个</em>LSH 函数与 AND 运算符组合会产生一个新的 LSH 函数，其参数为</p>
</blockquote>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/5.png" alt="img"></p>
<p>我们不会证明这个定理，因为本系列文章的第 5 部分已经获得并解释了由此产生的类似概率公式。</p>
<h2 id="组合composition">组合(Composition)</h2>
<p>通过<em>AND</em>和<em>OR</em>运算，可以通过各种方式将它们组合在一起，以更好地控制<em>误报率</em>和<em>漏报率</em>。让我们想象一下<em>AND</em>组合器使用<em>r</em> LSH 函数，<em>OR</em>组合器使用<em>b</em> LSH 函数。使用这些基本组合器可以构建两种不同的组合：</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/6.png" alt="img"></p>
<p>​	<em>AND-OR 和 OR-AND 是可以使用 AND 和 OR 运算符构建的两种组合类型。</em></p>
<p>前两篇文章中描述的算法使用<em>AND-OR</em>组合。事实上，没有什么可以阻止我们基于<em>AND</em>和<em>OR</em>运算构建更复杂的组合。</p>
<h2 id="构图示例">构图示例</h2>
<p>让我们研究一个示例，了解<em>AND</em>和<em>OR</em>的组合如何显着提高性能。假设参数 <em>b</em> = 4 和 <em>r</em> = 8 的 <em>OR-AND</em> 组合。根据上面的相应公式，我们可以估计两个候选向量在组合后的初始概率如何变化：</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/7.png" alt="img"></p>
<p>通过应用参数 b = 4 和 r = 8 的 OR-AND 组合来改变概率。第一行显示初始概率，第二行显示转换后的概率。</p>
<p>例如，如果对于两个向量之间的某个相似度值，单个 LSH 函数在 40% 的情况下将它们散列到同一个存储桶，那么在 OR- <em>AND</em>组合之后，在 32.9% 的情况下它们将被散列。</p>
<p>要了解组合的特殊之处，请考虑 <em>(0.4, 1.7, 0.8, 0.2)</em> 敏感的 LSH 函数。经过<em>OR-AND</em>转换后，LSH 函数转换为 <em>(0.4, 1.7, 0.0148, 0.987)</em> 敏感格式。</p>
<p>本质上，如果最初两个向量非常相似并且距离小于 0.4，那么在 80% 的情况下它们将被视为候选向量。然而，通过应用组合，它们现在是 98.7% 场景的候选者，从而导致<em>假阴性</em>错误大大减少！</p>
<p>类似地，如果两个向量彼此非常不同并且距离大于 1.7，那么现在仅在 1.48% 的情况下将它们视为候选向量（之前为 20%）。这样，<em>误报错误</em>的频率减少了 13.5 倍！这是一个巨大的进步！</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/8.png" alt="img"></p>
<p>显示不同组合后初始概率如何转换的曲线</p>
<blockquote>
<p>一般来说，通过使用*(d₁, d2, p₁, p2)<em>敏感的 LSH 函数，可以将其转换为</em>(d₁, d2, p'₁, p'2)<em>格式，其中</em>p'₁<em>接近 1 p'2接近 0。越接近 1 和 0 通常需要使用更多的组合</em>。*</p>
</blockquote>
<h1 id="其他距离指标的-lsh">其他距离指标的 LSH</h1>
<p>我们已经深入研究了 LSH 方案，用于保存有关 Jaccard 系数和余弦距离的信息。自然出现的问题是是否可以将 LSH 用于其他距离度量。不幸的是，对于大多数指标，没有相应的 LSH 算法。</p>
<p>然而，LSH 模式适用于欧几里得距离——机器学习中最常用的指标之一。由于它经常使用，我们将研究如何获取欧氏距离的哈希值。通过上面介绍的理论符号，我们将证明该指标的一个重要的 LSH 属性。</p>
<h2 id="欧几里得euclidean距离的-lsh">欧几里得(Euclidean)距离的 LSH</h2>
<p>欧几里得空间中点的散列机制包括将它们投影到随机线上。算法假设</p>
<ul>
<li>如果两个点彼此相对接近，那么它们的投影也应该接近。</li>
<li>如果两点彼此相距很远，那么它们的投影也应该很远。</li>
</ul>
<p>为了测量两个投影的接近程度，可以将一条线分为几个相等的段（桶），每个段的大小为<em>a</em>。每条线段对应一个特定的哈希值。如果两个点投影到同一条线段，则它们具有相同的哈希值。否则，哈希值是不同的。</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/9.png" alt="img"></p>
<p>​	<em>在随机线上投影点</em></p>
<p>尽管该方法乍一看似乎很强大，但它仍然可以将彼此相距较远的点投影到同一段。当连接两点的线几乎垂直于初始投影线时，尤其会发生这种情况。</p>
<p><img src="https://github.com/weedge/mypic/raw/master/oneday/lsh-compositions/10.png" alt="img"></p>
<p>​	<em>尽管两个点彼此相距较远，但它们仍然有可能被散列到同一个桶中。</em></p>
<p>为了降低错误率，强烈建议使用随机投影线的组合，如上所述。</p>
<p>几何上可以证明，如果<em>a</em>是欧氏空间中单条线段的长度，则<em>H</em>是 <em>(a/2,2a,1/2,1/3)</em> 敏感的LSH函数。</p>
<h1 id="结论">结论</h1>
<p>在本章中，我们积累了一般 LSH 表示法的知识，这有助于我们正式引入组合操作，从而显着降低错误率。值得注意的是，LSH 仅适用于一小部分机器学习指标，但至少适用于最流行的指标，如欧氏距离、余弦距离和杰卡德指数。当处理测量向量之间相似性的另一个度量时，建议选择另一种相似性搜索方法。</p>
<p>作为参考，本文中介绍的陈述的正式证明可以在<a href="https://web.lums.edu.pk/~imdad/pdfs/CS5312_Notes/CS5312_Notes-14-LSH.pdf">这些注释</a>中找到。</p>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://web.lums.edu.pk/~imdad/pdfs/CS5312_Notes/CS5312_Notes-14-LSH.pdf"><strong>Locality Sensitive Hashing | Lecture Notes for Big Data Analytics | Nimrah Mustafa</strong></a></li>
<li><a href="https://en.wikipedia.org/wiki/Cosine_similarity">Cosine distance | Wikipedia</a></li>
</ul>
<p><em>除非另有说明，所有图片均由作者提供</em>。</p>
<p>原文地址： <a href="https://towardsdatascience.com/similarity-search-part-7-lsh-compositions-1b2ae8239aca">https://towardsdatascience.com/similarity-search-part-7-lsh-compositions-1b2ae8239aca</a></p>
<p><strong>附操作笔记</strong>:</p>
<p><a href="https://github.com/weedge/doraemon-nb/blob/main/faiss_locality_sensitive_hashing_random_projection.ipynb"><strong>faiss_locality_sensitive_hashing_random_projection.ipynb</strong></a> 学习笔记</p>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">weedge</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2023-09-26
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://weedge.github.io/tags/oneday/">oneday</a>
          <a href="https://weedge.github.io/tags/similarity-search/">similarity search</a>
          <a href="https://weedge.github.io/tags/locality-sensitive-hashing/">Locality Sensitive Hashing </a>
          <a href="https://weedge.github.io/tags/lsh/">lsh</a>
          <a href="https://weedge.github.io/tags/compositions/">compositions</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/gpu/maximizing-performance-with-massively-parallel-hash-maps-on-gpus/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">译：利用 GPU 上的大规模并行hashmap最大限度地提高性能</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/oneday/similarity-search/6.random-projections-with-lsh-forest/">
            <span class="next-text nav-default">译：相似性搜索，第 6 部分：LSH 森林的随机投影</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    显示 Disqus 评论
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://weedge.github.io/post/oneday/similarity-search/7.lsh-compositions/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'weedge';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:weege007@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/weedge" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/weedge" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>


<a href="https://weedge.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2013 -
    2024
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        weedge
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  









  <script id="dsq-count-scr" src="//weedge.disqus.com/count.js" async></script>






  <script src="/js/copy-to-clipboard.js"></script>


</body>
</html>
