<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>时间飘过</title>
    <link>https://weedge.github.io/</link>
    <description>Recent content on 时间飘过</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sat, 02 Oct 2021 10:26:23 +0800</lastBuildDate>
    
        <atom:link href="https://weedge.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>About</title>
      <link>https://weedge.github.io/about/</link>
      <pubDate>Sun, 20 Jan 2013 21:38:52 +0800</pubDate>
      
      <guid>https://weedge.github.io/about/</guid>
      
        <description>&lt;p&gt;简单的木头人，简单，呆木，喜欢自言自语，愚人自扰型。时间飞逝，仅仅记录，留住某人某事，某些好玩的技术，KISS and just do IT.&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>工程师六大意识</title>
      <link>https://weedge.github.io/post/rd/</link>
      <pubDate>Sat, 02 Oct 2021 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/rd/</guid>
      
        <description>&lt;h2 id=&#34;1时间意识&#34;&gt;&lt;strong&gt;1.时间意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    时间意识的终极目标是按时保质的完成工作。时间是一种宝贵的资源，由于每天工作时间的有限的而需要处理事情是复杂多变性的，为了按时保质的完成工作，我们首先需要有极强的时间意识，使用科学的时间管理策略。总的来说，时间管理就是让我们更有计划的知道需要做什么，什么时候做什么，而时间管理的难点为：事情具有突发性、完成时间难以预算性、执行力和预期不符合。&lt;/p&gt;
&lt;h3 id=&#34;11做明确计划&#34;&gt;1.1做明确计划&lt;/h3&gt;
&lt;p&gt;​    花一定的时间专门做计划，精确到小时，磨刀不误砍材工。为了做出精确的计划，提高时间的利用率，我们可以把个人时间和任务安排分块化，让同性质的任务部门分配同一段时间来处理，让零碎的时间处理细碎的问题，高效率的时间做大块重要困难的问题。&lt;/p&gt;
&lt;h3 id=&#34;12能尽快完成就尽快完成给以突发事情一定预算余地&#34;&gt;1.2能尽快完成就尽快完成，给以突发事情一定预算余地&lt;/h3&gt;
&lt;p&gt;​    即使每天计划的清清楚楚的工作安排，还是很大可能出现突发事情打乱计划，因为我们的工作性质就是这样的，需要随时待命解决突发的问题，并且很多事情是难以准确预算完成时间的，所以我们应该尽快的完成任务而不是拖到最后甚至拖到明天，这样才能最大限度的留给未知可能的处理空间。&lt;/p&gt;
&lt;p&gt;​    现在的社会处于互联网产业高速发展时期，到处充满着机遇，但是不管对企业还对个人来说又都面领着极大的竞争挑战。想要在这样的环境下生存并且前进，需要我们具有争分夺秒的意识，今天落后一步，就需要无数天的加速才能追上别人，更重要的是，身为团队的一员，很可能因为自己的一点懈怠而拖慢团队的脚步。&lt;/p&gt;
&lt;h3 id=&#34;13总结提高锻炼坚毅的性格提高执行力度&#34;&gt;1.3总结提高，锻炼坚毅的性格，提高执行力度&lt;/h3&gt;
&lt;p&gt;​    除了事情本身的多变性和竞争的激烈性，还有一点就是我们通常会高估自己的执行力，这需要我们我们进行自我管理自我约束，培养坚毅的性格，具有很强的责任心，高效率的执行力，主动的向别人汇报进度，树立起一个让自己和别人都信得过的形象。我们还需要不断的总结提高计划的准确性，看清自己，看清问题，将自己和问题准确的在时间维度上来对应起来。&lt;/p&gt;
&lt;h2 id=&#34;2质量意识&#34;&gt;&lt;strong&gt;2.质量意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    时间是宝贵的资源，但是不能为了节省时间而降低质量，时间是用来使用的，真正的节省时间就是合理高效的使用时间。欲速则不达，在复杂庞大的网络环境中，每一个小小的质量问题，都可能导致巨大的灾难，比如有可能这个灾难只是因为某一个进制转换精度损失引起的。如何保证质量，需要个人的责任心、需要团队的正确文化氛围、需要科学的质量保证流程。&lt;/p&gt;
&lt;p&gt;​    首先需要我们拥有一个保证质量的责任心，每一个人都要对质量负责，要有居安思危的意识，不能默认没问题，而是要反复核对自己的工作，不要等着别人来发现自己的问题，不要依赖流程，比如开发不能依赖测试，测试只是最后的质量检查而已，而不是保证，而且局限性小，即使测试出问题，修改也是费时费力。&lt;/p&gt;
&lt;p&gt;​    然后就是有一套科学的质量保证流程，比如需求的审核、开发的测试、上线过程评审等，质量保证工作存在于每一个环节，早发现早解决，因为越到后面挽救的代价越大。&lt;/p&gt;
&lt;h2 id=&#34;3沟通意识&#34;&gt;&lt;strong&gt;3.沟通意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    沟通的本质就是，了解他人的需要，表达自己的需要，沟通是项目成功的重要技巧之一。沟通无处不在，包括：文档、邮件、合同，更直接点的就是电话、口头。对于开发而言，代码本身就是用于沟通，所以我们要严格要求代码规范，要意识到代码是要用于沟通的，让人一看就懂的才是好代码。&lt;/p&gt;
&lt;h3 id=&#34;31沟通的态度&#34;&gt;3.1沟通的态度&lt;/h3&gt;
&lt;p&gt;​    沟通中的双发是代表各自角色的沟通，而不是个人间的沟通，也是通常我们说的 对事不对人 。因此，我们在沟通中不要忘记自己的职业角色，也不要忽视对方的职业角色。在沟通中我们要公开和坦诚地表达自己的意见，同时要有尊重别人的权利的态度，多用描述性语句，少用判断性语句，要有积极的态度。&lt;/p&gt;
&lt;h3 id=&#34;32主动沟通&#34;&gt;3.2主动沟通&lt;/h3&gt;
&lt;p&gt;​    看问题的角度不同，看法和观点会不一致，我们无法寄希望于对方主动来找我们沟通，所以为了得到好的结果，我们需要主动去沟通。所以要做好以下几点：&lt;/p&gt;
&lt;p&gt;（1）做好沟通前的准备，想好要表述的问题和想知道的问题&lt;/p&gt;
&lt;p&gt;（2）把握沟通时机，要在适当的时间、地点，同时考虑好沟通对象的状态。&lt;/p&gt;
&lt;p&gt;（3）选择好沟通方式，根据沟通紧急程度，具体问题的不同，选择合适的沟通方式，如：面谈、电话、书面（含即时通讯工具）等&lt;/p&gt;
&lt;h2 id=&#34;4团队意识&#34;&gt;&lt;strong&gt;4.团队意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    要实现目标，最重要的就是团队，我们让自己变得优秀的本质也是为了能够为团队做更大的贡献，通过团队实现个人，也通过个人贡献团队。听说这样一句话，一个中国人是一条龙，一群中国人是一群虫，这就是我们在国外人眼中缺少团队的意识。对于团队我们要有以下意识：&lt;/p&gt;
&lt;h3 id=&#34;41集体荣誉感&#34;&gt;4.1集体荣誉感&lt;/h3&gt;
&lt;p&gt;​    要有集体荣誉感，凡事看大局，每个人都是团队的一份子，不能有打酱油的心态。&lt;/p&gt;
&lt;h3 id=&#34;42建立完善的规则&#34;&gt;4.2建立完善的规则&lt;/h3&gt;
&lt;p&gt;​    没有规矩，不以成方圆，没有没有纪律的军队，不可能打胜仗。对于研发团队，统一的规则可以有效的减低沟通成本，集合整个团队的智慧，降低错误的可能性，规则要不断总结，不断优化。&lt;/p&gt;
&lt;h3 id=&#34;43团结互进&#34;&gt;4.3团结互进&lt;/h3&gt;
&lt;p&gt;​    团队之间要互相信任，乐于为别人提供帮助，乐于和善于从其他同事那里获得帮助，互相学习共同进步。开诚布公、相互尊重、相互理解，多站在对方的立场上考虑，对事不对人。团队意识不等于哥们义气、拉帮结派，也不等于好好先生，建立优秀的团队氛围。&lt;/p&gt;
&lt;h3 id=&#34;44建立强沟通&#34;&gt;4.4建立强沟通&lt;/h3&gt;
&lt;p&gt;​    团队要强调沟通意识，以各种方式建立起成员之间的联系。&lt;/p&gt;
&lt;h2 id=&#34;5进取意识&#34;&gt;&lt;strong&gt;5.进取意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    要有理想，有进取心，不断的追求更高的目标。在激烈竞争的环境，要有忧患意识，不断进步，否则迟早要淘汰。而进取意识最终要的是客服自己的心态，“破山中贼易，破心中贼难”，&lt;strong&gt;对自己的要求比别人对自己的要求更严格&lt;/strong&gt; ，客服自己的内心，加强计划性和执行力，这是见于所有能快速成长的优秀工程师所共有特质，而恰恰是那些不适应一个高速成长的团队而被淘汰掉的工程师身上所最缺乏的东西。&lt;/p&gt;
&lt;p&gt;​    要未雨绸缪，也要容忍失败。进取是为了未雨绸缪，但是进取不代表不会失败，而是指能在失败面前勇于剖析、勇于承担责任，又能自我总结经验教训、保持自己的进取心。 ¡&lt;/p&gt;
&lt;h2 id=&#34;6求实意识&#34;&gt;&lt;strong&gt;6.求实意识&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;​    实事求是，是《毛泽东思想》的精髓之一，也正是实事求是，不搞虚的，才能有高速发展的中国的今天。在实际项目中要注重事实，反对弄虚作假，大胆的假设小心地求证，一切以数据说话，用准确的数字和事实来论证，不能只有臆测的结论。&lt;/p&gt;
&lt;p&gt;​    以量化指标作为判断的依据，实际数据为王，没有量化，就没有绩效，通过这些指标衡量自己的成长和进步，通过这些指标知道工作的方向和重点。&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>组织引擎</title>
      <link>https://weedge.github.io/post/zborg/</link>
      <pubDate>Sun, 05 Sep 2021 21:04:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/zborg/</guid>
      
        <description>&lt;h2 id=&#34;背景&#34;&gt;背景：&lt;/h2&gt;
&lt;p&gt;教学直播间场景多样性，按年龄段区分辅导后台角色，构成整个教学课中直播和互动的多样性，为了快速支持业务发展，导致后端服务接口过多，不易维护，统一管理。&lt;/p&gt;
&lt;p&gt;主要分为如下场景：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;对接辅导侧后台的场景：&lt;/strong&gt; 辅导侧不同的辅导运营后台，比如：低幼辅导，班主任(班课)，督学服务，0转化督学服务等，后续可能还有小鹿编程，大师素养课对应的辅导侧；辅导侧会分班去带学生，不同的辅导侧会有单独的课中业务服务来对接辅导后台的接口，课中理解不同的业务组织形态，代码逻辑和存放数据冗余，不方便维护；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;业务前台对接直播接口场景&lt;/strong&gt;：直播业务服务多样；按照课程类型分为专题课，班课，短训班，素养课，编程课等；直播服务：班主任出镜（课前，课中，课后），小班，小组，大班，自习室等；服务的多样性，导致业务接口繁琐，前期快速开发上线，针对每个直播服务业务场景单独提供接口， 带来的问题不方便统一管理维护；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;课中互动中台互动聊天场景：&lt;/strong&gt; 大班，小班，小组直播间场景依赖售卖和辅导侧的组织结构进行聊天，答题，鼓励，PK，发红包等互动；导致课前需要对这些组织结构按照不同直播场景+不同辅导侧数据进行提前预热处理，逻辑重复；&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;设计目标&#34;&gt;设计目标：&lt;/h2&gt;
&lt;p&gt;需要一个承上启下的模块来连接辅导侧支撑课中直播/回放互动场景：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对不同业务直播场景进行收敛，减少重复开发；&lt;/li&gt;
&lt;li&gt;隔离底层业务后台辅导侧，售卖侧数据，统一接入辅导/售卖侧全量数据，以及异动，减少数据冗余；&lt;/li&gt;
&lt;li&gt;隔离底层业务数据，抽象直播中台数据模型，中台面向这个数据模型进行编程，提供原子化接口；&lt;/li&gt;
&lt;li&gt;当天上课课前预热数据需要在0-6点尽量全部预热完成；预热加速，预热后的数据检查；&lt;/li&gt;
&lt;li&gt;复用中台数据模型已支持的直播场景能力，提供saas化服务，前台使用中台定义的dsl，根据业务场景进行组装，提高开发效率；&lt;/li&gt;
&lt;li&gt;提供可配置后台，管理服务接口；&lt;/li&gt;
&lt;li&gt;将读写io最小化，提高原子化接口响应时间RT&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;思想： 高内聚低耦合、空间换时间&lt;/p&gt;
&lt;h2 id=&#34;数据量&#34;&gt;数据量：&lt;/h2&gt;
&lt;p&gt;1天最高峰2w节课，总报名学生数量600w+， 在线学生100w+ ， 课中进入上课页面qps 120w+&lt;/p&gt;
&lt;p&gt;处理数据量：按一个课程章节来计算，最大的报名学生数目3w+  实际测试用60w+ 的报名学生，预热大概45多分钟&lt;/p&gt;
&lt;p&gt;3w 的报名学生， 小组直播间，班主任出镜，一个班主任最多带500学生，预热大概 1分钟30多秒&lt;/p&gt;
&lt;p&gt;策略数据： 一个章节对应一个策略，一个策略可以给多个章节使用，&lt;/p&gt;
&lt;p&gt;policy (id,conf,desc,name)&lt;/p&gt;
&lt;p&gt;lessonPolicy (keyId,keyType,bizType,partition,policyId)&lt;/p&gt;
&lt;p&gt;直播间数量： 3n+1 (n是班主任数目，出镜场景） 最多181个直播间 180&lt;em&gt;8&lt;/em&gt;5(id,roomId,virturalRoomId,rootId,bizId,roomType,teacherUid,startTime,endTime,status) = 7.2KB&lt;/p&gt;
&lt;p&gt;组织节点数量：3w/6=5000个小组节点，5000/6 = 800多个队节点，60个辅导老师节点，总共6000个组织节点， 6000&lt;em&gt;8&lt;/em&gt;7(id, nodeId,parentId,rootId,virturalNodeId,sourceId,path) =328KB&lt;/p&gt;
&lt;p&gt;用户数量： 3w+  每个班主任最多带500个学生，  3w/500 = 60  个班主任，最多 181 个直播间， 180&lt;em&gt;500 + 3w =12w条直播间用户数据， 按直播间维度协程任务分批处理; 12w&lt;/em&gt;8*4(id,uid,nodeId,roomId) =3.7MB&lt;/p&gt;
&lt;p&gt;一天大概总共 2w * 4M =  78GB数据可能需要课前预热 （报名学生2w*3w =6亿）&lt;/p&gt;
&lt;h2 id=&#34;依赖中间件基础服务&#34;&gt;依赖中间件基础服务&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;redis (stored k/v存储）  前期是哨兵模式架构， 后期采用proxy模式架构，类似pika,ledis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DB(mysql ) 主从架构，未使用proxy数据库中间件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MQ(NMQ, RocketMQ) 消息队列&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;前期用的NMQ  消息以push的方式发送的消费方，通过groupKey来保证有序，以及消息积压报警，无限重试，消费方来保证幂等&lt;/p&gt;
&lt;p&gt;RMQ是为了兼容NMQ , 对rocketMQ进行来封装， 消息生成侧提供proxy, 兼容nmqproxy；消费侧rocketMQ是pull长轮训方式，为了兼容NMQ的push方式，提供pusher模块；数据存放用rocketMQ的broker&lt;/p&gt;
&lt;p&gt;rocketMQ : &lt;a href=&#34;https://github.com/apache/rocketmq/tree/master/docs/cn&#34;&gt;https://github.com/apache/rocketmq/tree/master/docs/cn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;kafka : &lt;a href=&#34;https://kafka.apachecn.org/intro.html&#34;&gt;https://kafka.apachecn.org/intro.html&lt;/a&gt; 长链接心跳打点数据 → kafka → 计算引擎&lt;/p&gt;
&lt;h2 id=&#34;流程&#34;&gt;流程&lt;/h2&gt;
&lt;h3 id=&#34;数据对接方&#34;&gt;&lt;strong&gt;数据对接方&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;预热模块接入辅导侧三方数据：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;班主任侧（小班，辅导老师：班主任）&lt;/li&gt;
&lt;li&gt;督学服务侧（微信服务，辅导老师：督学）&lt;/li&gt;
&lt;li&gt;0转化督学服务侧（拉新转化，辅导老师：0转化督学）&lt;/li&gt;
&lt;li&gt;低幼服务侧（小班，辅导老师：班主任）&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;场景直播间维度&#34;&gt;&lt;strong&gt;场景（直播间维度）&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;一个章节里一个主直播间一个组织树 （非出境）&lt;/li&gt;
&lt;li&gt;一个章节里多个主直播间一个组织树 （出境）&lt;/li&gt;
&lt;li&gt;一个章节里多个主直播间对应多个从直播间多个组织树 （旁听+出境）&lt;/li&gt;
&lt;li&gt;多个章节情况都转化成一个章节下的直播间情况 （共享）&lt;/li&gt;
&lt;li&gt;跟课场景：一个章节可能给不同的辅导侧在使用，辅导平台的数据源不同，一个组织树对应多个业务组织，一个直播间主讲推流，多个辅导侧后台拉流监控&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/%E7%9B%B4%E6%92%AD%E4%B8%AD%E5%8F%B0-%E7%BB%84%E7%BB%87%E5%BC%95%E6%93%8E%E6%B5%81%E7%A8%8B%E6%A1%86%E6%A1%86%E6%96%BD%E5%B7%A5%E5%9B%BE.jpg&#34; alt=&#34;直播中台-组织引擎流程框框施工图.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;策略规则平台policy&#34;&gt;策略规则平台policy：&lt;/h2&gt;
&lt;p&gt;用于不同的业务直播间类型绑定组织策略，开发提供给运营产品团队使用&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;推拉流策略（rtc(udp),rtmp(tcp)+CDN 延迟较高，价格低； 学生，老师小组直播间互动场景用的rtc, 一课(三分屏)直播间用的rtmp; 辅导跟课后台，监控后台用的rtmp）；&lt;/li&gt;
&lt;li&gt;直播间策略(班主任课前/课中/课后出镜直播间，主讲直播间)；&lt;/li&gt;
&lt;li&gt;互动组织策略（基于组织树，学生，班主任，老师 通过长链接的聊天广播模式）;&lt;/li&gt;
&lt;li&gt;预热策略（极简，简单，全部预热）;&lt;/li&gt;
&lt;li&gt;预热时间计算预热时长(根据直播间数，组织节点数，用户数，计算预热时长）；用于分层时间轮来监控预热任务超时报警&lt;/li&gt;
&lt;li&gt;缓存设计中直播间的学生集合和在线学生集合 zset 分片策略（根据课程报名人数和商品库存数调权相加获取）；&lt;/li&gt;
&lt;li&gt;数据源定义（辅导侧数据：低幼，0转化督学，督学，班主任等，售卖侧数据）；&lt;/li&gt;
&lt;li&gt;异动数据通知定义 (学生更换班主任/小班，老师更换，课程章节上课时间更改，课程章节重开）&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;组织数据生成引擎core&#34;&gt;组织数据生成引擎core：&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;缓存设计：&lt;/p&gt;
&lt;p&gt;策略缓存/本地缓存，组织树缓存，直播间缓存，学生缓存，预热任务缓存&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据库数据设计：&lt;/p&gt;
&lt;p&gt;业务策略表，组织节点表，直播间表，学生表&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;直播中台组织引擎课中数据接口设计：&lt;/p&gt;
&lt;p&gt;直接从缓存中取，交互的数据通过write-behind 模式写入&lt;/p&gt;
&lt;p&gt;获取组织树节点信息，节点原始节点信息，子节点信息，学生所在直播间节点，选组/位置&lt;/p&gt;
&lt;p&gt;获取业务课程章节业务id的直播间信息&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;直播中台组织引擎回放数据接口设计：&lt;/p&gt;
&lt;p&gt;接口数据缓存，cache-aside 模式读取，课后回放数据都是读的场景&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;消息队列topic 消息体设计 ：异步落库，为了同步db,  同步db逻辑幂等，降低db的写压力&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;直播间，组织节点，学生数据&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;内部优化设计：（原则：尽量减少读写io, 达到最优解）&lt;/li&gt;
&lt;li&gt;异步缓冲buffer数据批量发送队列入库，减少网络io，降低db的写压力&lt;/li&gt;
&lt;li&gt;课中老师的课件信令记录，zset存缓存，学生高并发场景获取直播间信令记录，通过本地缓存来减少对zset 大key数据读取压力&lt;/li&gt;
&lt;li&gt;任务池化，并发批量处理任务，提高吞吐相应速度&lt;/li&gt;
&lt;li&gt;临时对象池化，高并发吞吐减少gc&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;配置平台conf-dashboard&#34;&gt;配置平台conf-dashboard：&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;预热流程 DSL pipeline 配置,&lt;/li&gt;
&lt;li&gt;依赖缓存和数据配置 ，&lt;/li&gt;
&lt;li&gt;业务配置，&lt;/li&gt;
&lt;li&gt;预热报警通知配置,&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;预热数据监控平台monitor-dashboard&#34;&gt;预热数据监控平台monitor-dashboard:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;提供手动触发预热和预热数据检查；&lt;/li&gt;
&lt;li&gt;查看预热好的直播间，组织树，学生所在直播间的组织节点信息，以及课中直播间开始结束时间，直播间状态，学生在线状态，聊天状态（禁言/可聊天), 分组信息，到课时间&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;开发工具&#34;&gt;开发工具&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;线上/线下预热通知群&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;预热报警通知群&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;预热回归diff检查工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/%E9%A2%84%E7%83%AD%E6%A3%80%E6%9F%A5.jpg&#34; alt=&#34;预热检查&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/preload-diff.png&#34; alt=&#34;preload-diff&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;容错处理&#34;&gt;容错处理&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;分布式任务处理，如果一个机器挂了不影响任务处理，failover机制&lt;/li&gt;
&lt;li&gt;任务执行失败会右报警机制，可以手动处理重新预热，还有自动轮训检查预热是否成功机制，如果预热失败，会在下个轮训周期出发预热， 轮训周期可调，默认是10分钟&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;qa&#34;&gt;Q&amp;amp;A&lt;/h2&gt;
&lt;p&gt;Q：课前预热直播间数据为什么选择先写缓存，然后在通过mq异步落db呢？&lt;/p&gt;
&lt;p&gt;A： 因为预热的过程是异步多台机器单机进程并行预热，进程中通过协程并发处理流程预热，为了预热提速；&lt;/p&gt;
&lt;p&gt;如果直接写db, 然后在更新缓存，因为mysql是主从架构，预热是写多读多场景， 写多是因为预热数据初始写入数据库，读多是因为数据入库之后，会通知接口缓存模块去请求读db接口缓存数据(接口数据为空，不会存储，都为insert操作成功之后，才通知接口缓存模块，不会出现不一致的情况)；读请求可以通过多个从来分担，但是写的话都是在主上，分库分表都是在单实例上, 单机抗大量写请求会成为整体预热的瓶颈；&lt;/p&gt;
&lt;p&gt;如果直接写入缓存，然后mq异步落db 的形式可以充分利用缓存比磁盘读写io速度快的优势，缓存的实例部署是以proxy的形式分布式部署，可以对slot分片进行读写 扩容，分散读写压力；不会成为预热的瓶颈；（以前是无中心化的形式通过业务使用方一致性hash 来访问分布式缓存slot分片, 后面改成proxy中心化的方式，统一管理方便运维，业务使用方直接通过redis协议请求，无需关心分片操作）&lt;/p&gt;
&lt;p&gt;通过mq异步落db，mq是通过push的方式直接发给后端接口入库的，降低mq的push的并发窗口，可以减少push频率，降低后端接口的请求量，但是会消费变慢，为了加快操作，对发送给mq的数据进行buffer 处理，批量发送，通过后端接口批量写入数据库，减少网络i/o, 提高写入吞吐量；&lt;/p&gt;
&lt;p&gt;Q: 预热过程中，如果有上线，预热中断了，怎么处理呢？&lt;/p&gt;
&lt;p&gt;A： 在预热的时候会上报预热的启动状态， 旁路脚本每半小时会检查一次预热的启动状态，如果一直处于运行中，则报警，根据阈值判断(比如报名人数估算处预热时间，报警次数) 触发自动预热重新预热上；预热监控后台也提供了手动触发预热；&lt;/p&gt;
&lt;p&gt;这里没有像数据库那样使用WAL机制（进程crash后，缓存中的数据没有了，可以通过WAL日志找回），业务场景可以回溯数据，按章节或者直播间重新预热&lt;/p&gt;
&lt;p&gt;Q: 组织树的作用是什么呢？&lt;/p&gt;
&lt;p&gt;A： 将业务组织关系进行解偶，如果接入其他业务组织关系，只需要提供原始数据，就可以服务用课中的组织关系能力，提供课中组织关系下的直播互动；课中组织树是可以动态扩展的，满足课中报名人数突增的情况；&lt;/p&gt;
&lt;p&gt;Q: 后续会提供用户维度的组织树操作接口吗？&lt;/p&gt;
&lt;p&gt;A： 现在是通过采集其他平台的组织数据进行一份转化生成提供给课中直播互动使用的组织树，后续提供相关的基础读写接口来初始/更改预热数据，使用方只需要在构造业务组织结构的时候调用写入缓存&lt;/p&gt;
&lt;p&gt;Q: 现在业务数据量有多大？&lt;/p&gt;
&lt;p&gt;A: 系统是按照最大量估算的，一天大概总共 2w * 4M =  78GB数据可能需要课前预热 （报名学生2w*3w =6亿）&lt;/p&gt;
&lt;p&gt;Q: 是否考虑用工作流任务调度的方式处理呢？&lt;/p&gt;
&lt;p&gt;A: 正在考虑中，现在方式是后台绑定好预热策略，把策略发到消息队列里，然后通过消息队列负载均衡推送给预热任务执行；&lt;/p&gt;
&lt;p&gt;后面会优化成工作流任务调度的方式，将整个预热流程拆分成可单独执行的任务，然后生成一个DAG工作流，通过任务调度模块，分发到预热执行机器上执行，入度为0的任务开始启动执行&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>网络模型</title>
      <link>https://weedge.github.io/post/poller/</link>
      <pubDate>Thu, 02 Sep 2021 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/poller/</guid>
      
        <description>&lt;p&gt;看了一些开源的网络I/O模型框架库，尝试着按照理解简单实现一个相对简单的网络I/O模型框架，类似netty的reactor模型。&lt;/p&gt;
&lt;p&gt;Netty的NIO模型是Reactor反应堆模型（Reactor相当于有分发功能的多路复用器Selector）。每一个连接对应一个Channel（多路指多个Channel，复用指多个连接复用了一个线程或少量线程，在Netty指EventLoop），一个Channel对应唯一的ChannelPipeline，多个Handler串行的加入到Pipeline中，每个Handler关联唯一的ChannelHandlerContext。&lt;/p&gt;
&lt;p&gt;Reactor 模式的基本工作流程如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Server 端完成在 &lt;code&gt;bind&amp;amp;listen&lt;/code&gt; 之后，将 listenfd 注册到 epollfd 中，最后进入 event-loop 事件循环。循环过程中会调用 &lt;code&gt;select/poll/epoll_wait&lt;/code&gt; 阻塞等待，若有在 listenfd 上的新连接事件则解除阻塞返回，并调用 &lt;code&gt;socket.accept&lt;/code&gt; 接收新连接 connfd，并将 connfd 加入到 epollfd 的 I/O 复用（监听）队列。&lt;/li&gt;
&lt;li&gt;当 connfd 上发生可读/可写事件也会解除 &lt;code&gt;select/poll/epoll_wait&lt;/code&gt; 的阻塞等待，然后进行 I/O 读写操作，这里读写 I/O 都是非阻塞 I/O，这样才不会阻塞 event-loop 的下一个循环。然而，这样容易割裂业务逻辑，不易理解和维护。&lt;/li&gt;
&lt;li&gt;调用 &lt;code&gt;read&lt;/code&gt; 读取数据之后进行解码并放入队列中，等待工作线程处理。&lt;/li&gt;
&lt;li&gt;工作线程处理完数据之后，返回到 event-loop 线程，由这个线程负责调用 &lt;code&gt;write&lt;/code&gt; 把数据写回 client。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考这些网络模型，采用golang封装的底层epoll/kqueue系统调用方法，支持tcp协议，实现一个相对简单的网络模型，框架如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/im/main/go-epoll.png&#34; alt=&#34;go-epoll.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;代码实现：&lt;a href=&#34;https://github.com/weedge/lib/tree/main/poller&#34;&gt;https://github.com/weedge/lib/tree/main/poller&lt;/a&gt;  (对一个开源库进行的改造，codec编解码器待完善)&lt;/p&gt;
&lt;h4 id=&#34;参考&#34;&gt;参考：&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/panjf2000/gnet&#34;&gt;gnet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/cloudwego/netpoll&#34;&gt;netpoll&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/tidwall/evio&#34;&gt;evio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AlexStocks/getty&#34;&gt;getty&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/netty/netty&#34;&gt;netty&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/xinali/articles/issues/57&#34;&gt;Linux网络编程模型&lt;/a&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>教学直播概括</title>
      <link>https://weedge.github.io/post/jxzb/</link>
      <pubDate>Wed, 01 Sep 2021 22:04:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/jxzb/</guid>
      
        <description>&lt;h2 id=&#34;背景&#34;&gt;背景：&lt;/h2&gt;
&lt;p&gt;不同于常规的主播互动直播；教学直播，面向k12人群，&lt;/p&gt;
&lt;p&gt;前期会有课前的准备工作比如课程创建，学生购买数据，老师课件，试卷题目的准备；&lt;/p&gt;
&lt;p&gt;双师模式：学生会分配给不同的辅导老师，辅导老师会对学生进行分班处理，课中也会有学生选组上课互动的场景，辅导老师也可以给学生上课，也会在后台进行跟课，监督学生上课；&lt;/p&gt;
&lt;p&gt;相对于常规的主播互动，会模拟线下上课的场景到线上课中直播，形成一套线上教学直播间场景模式&lt;/p&gt;
&lt;h2 id=&#34;业务发展&#34;&gt;业务发展：&lt;/h2&gt;
&lt;p&gt;课中直播是按章节维度进行直播交互的，一个章节一个直播间；&lt;/p&gt;
&lt;p&gt;随着业务发展，出现了一个章节多个不同直播间的场景（出镜），多个章节共享一个章节直播间的场景(共享直播间）； 一个章节有2个相同课中主讲直播间的场景（旁听）; 后面根据业务需求衍生出其他组合玩法；&lt;/p&gt;
&lt;h2 id=&#34;上课业务流程介绍&#34;&gt;上课业务流程介绍：&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;售卖侧建课&lt;/strong&gt;：售卖老师在售卖后台新建课程章节，定义课程章节的属性，形成售卖商品上架；&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;学生侧购买报名&lt;/strong&gt;：学生在售卖页面可以购买课程章节上课，或者0元课扫二维码直接购买报名上课；&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;辅导侧&lt;/strong&gt;： 根据上课用户的年龄段进行分类：低幼，班主任，督学，0转化督学；对报名的用户课前排灌班，以大班/小班/小组的组织形式上课；&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;教学直播课前预热：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将当天课前准备的课件，试卷题目，课程章节老师辅导相关的等非状态非易变接口数据在上课之前预热至缓存中；因为课中上课是突发流量场景，减少对后台接口db的并发压力； 对课中不会变的接口数据可以加上本地缓存，提高相应吞吐效率；(读多写少场景接口，cache-aside模式）&lt;/li&gt;
&lt;li&gt;课前对课中异动易变数据需要直播间缓存，业务组织缓存等初始化缓存数据；提供给课中互动场景使用；后面通过业务策略绑定，把业务组织数据抽象一个课中理解的数据模型，直播间缓存， 组织树节点缓存，学生所在直播间节点缓存等初始数据；（基于这个课中缓存数据模型，进行编码，隔离业务属性）&lt;/li&gt;
&lt;li&gt;对于异动状态易变更新频繁的接口直接课中缓存交互，异步落盘，降低相应延迟减少对后台接口的读写压力；（写多频繁场景接口，write-behind模式）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;教学直播课中互动：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;不同用户角色直播链路
&lt;ol&gt;
&lt;li&gt;老师端：初始化直播间(配置加载，不同的互动ui, 互动功能是否可用，流媒体appid/token)→ 加载课件(cocos资源) →进入直播间 → 通过流媒体推流拉流/连麦/通过长链接发送聊天消息和信令→互动（发题目/答案/红包/奖励）→ 切换直播间(辅导出镜)/结束直播&lt;/li&gt;
&lt;li&gt;学生端：初始化直播间(配置加载，流媒体appid/token, 流程配置)→加载资源(cocos互动资源包/ai模型资源包)→签到/分组→进入直播间→通过流媒体拉流推流/连麦/通过长链接发送聊天消息→互动（发题目/答案/红包/奖励/pk）→ 退出直播间&lt;/li&gt;
&lt;li&gt;辅导跟课后台：进入跟课后台→ 进入直播间→通过流媒体拉流/通过长链接发送聊天消息→处理报警/遮盖/鉴黄/标记→直播结束获取计算好的学生到课时长，作答率，出勤率，完课率等&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;教学直播课后回放：&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;建课后直接根据绑定的策略直接生成直播间，提供回放数据，比如素养课，伪直播&lt;/li&gt;
&lt;li&gt;课中的回放数据，会有直播间和用户互动最终状态数据落库&lt;/li&gt;
&lt;li&gt;回放数据是不会更改，读多写非常少的场景，缓存直接通过cache-aside的模式缓存db后台接口数据&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;教学整体概括架构&#34;&gt;教学整体概括架构&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/zyb-jx.png&#34; alt=&#34;jxzb&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;总结思考&#34;&gt;总结思考&lt;/h2&gt;
&lt;p&gt;​	底层的基础建设比较重要(&lt;strong&gt;高效能&lt;/strong&gt;)；上层业务的发展离不开基础组件的稳定性(&lt;strong&gt;高可用&lt;/strong&gt;)；以及服务多了之后，如何高效快速迭代，上线之后保证整体服务性能的稳定性(&lt;strong&gt;高并发/低延迟/可监控/可配置&lt;/strong&gt;)； 以及服务模块之间的划分合理，细化出功能组件，异动业务代码的可维护性（&lt;strong&gt;低耦合高内聚&lt;/strong&gt;）；这些都需要理论知识加以指导(比如服务划分抽象原则DDD, 业务抽象设计原则SOLID)，以及实践场景中去平衡折中改进；没有永恒的银弹(内卷)，尚需不断迭代提高。一个字 &amp;ldquo;稳&amp;rdquo;。&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;references&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.infoq.cn/article/9jn0qfcx2xq7h6xltwa9&#34;&gt;学而思网校直播课堂的架构演进之路&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://insights.thoughtworks.cn/tag/domain-driven-design/&#34;&gt;Thoughtworks洞见-领域驱动设计&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tech.meituan.com/2020/03/19/design-pattern-practice-in-marketing.html&#34;&gt;设计模式在美团外卖营销业务中的实践&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tech.meituan.com/2017/12/22/ddd-in-practice.html&#34;&gt;领域驱动设计在互联网业务开发中的实践&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://read.douban.com/ebook/169386436/&#34;&gt;架构整洁之道&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://book.douban.com/subject/26938710/&#34;&gt;系统架构-复杂系统的产品设计与开发&lt;/a&gt;: 理论知识，多读多思考多实践，&amp;lsquo;&amp;lsquo;虚实&#39;&amp;lsquo;结合&lt;/li&gt;
&lt;/ol&gt;</description>
      
    </item>
    
    <item>
      <title>直播系列之消息模块演进</title>
      <link>https://weedge.github.io/post/jxzbim/</link>
      <pubDate>Mon, 02 Nov 2020 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/jxzbim/</guid>
      
        <description>&lt;h4 id=&#34;整体服务框架&#34;&gt;整体服务框架&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://github.com/weedge/im/blob/main/zbim.png?raw=true&#34; alt=&#34;zbim&#34;&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>policy worker</title>
      <link>https://weedge.github.io/todo/policyworker/</link>
      <pubDate>Wed, 10 Jun 2020 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/todo/policyworker/</guid>
      
        <description>&lt;h4 id=&#34;策略模型&#34;&gt;策略模型&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;

&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; (
  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sync/atomic&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;time&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;loadConfig&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; {
  &lt;span style=&#34;color:#75715e&#34;&gt;// 从数据库或者文件系统中读取配置信息，然后以map的形式存放在内存里
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
}

&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;requests&lt;/span&gt;() &lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; {
  &lt;span style=&#34;color:#75715e&#34;&gt;// 将从外界中接受到的请求放入到channel里
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; make(&lt;span style=&#34;color:#66d9ef&#34;&gt;chan&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;)
}

&lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;() {
  &lt;span style=&#34;color:#75715e&#34;&gt;// config变量用来存放该服务的配置信息
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;atomic&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Value&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;// 初始化时从别的地方加载配置文件，并存到config变量里
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Store&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;loadConfig&lt;/span&gt;())
  &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
    &lt;span style=&#34;color:#75715e&#34;&gt;// 每10秒钟定时的拉取最新的配置信息，并且更新到config变量里
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; {
      &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Sleep&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;time&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Second&lt;/span&gt;)
      &lt;span style=&#34;color:#75715e&#34;&gt;// 对应于赋值操作 config = loadConfig()
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;      &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Store&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;loadConfig&lt;/span&gt;())
    }
  }()
  &lt;span style=&#34;color:#75715e&#34;&gt;// 创建工作线程，每个工作线程都会根据它所读取到的最新的配置信息来处理请求
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &amp;lt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; {
    &lt;span style=&#34;color:#66d9ef&#34;&gt;go&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;func&lt;/span&gt;() {
      &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;range&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;requests&lt;/span&gt;() {
        &lt;span style=&#34;color:#75715e&#34;&gt;// 对应于取值操作 c := config
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// 由于Load()返回的是一个interface{}类型，所以我们要先强制转换一下
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;Load&lt;/span&gt;().(&lt;span style=&#34;color:#66d9ef&#34;&gt;map&lt;/span&gt;[&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;]&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;)
        &lt;span style=&#34;color:#75715e&#34;&gt;// 这里是根据配置信息处理请求的逻辑...
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;_&lt;/span&gt; = &lt;span style=&#34;color:#a6e22e&#34;&gt;r&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;
      }
    }()
  }
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;参考&#34;&gt;参考：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.betacat.io/post/golang-atomic-value-exploration/&#34;&gt;https://blog.betacat.io/post/golang-atomic-value-exploration/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
      
    </item>
    
    <item>
      <title>2019 TODO</title>
      <link>https://weedge.github.io/post/2019todo/</link>
      <pubDate>Sat, 26 Jan 2019 01:16:30 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/2019todo/</guid>
      
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt; 2018年感觉过的好快，时间荏苒，有些事和人，感觉在2018变化很大；人都是有欲望的，在欲望的驱使下，去实现自己的目标，其中有失败，有成功，还有一直在路上前行的；每年给自己定的目标要么期望太高，要么随遇而安，到头来给自己的感觉是不太务实，有点好高骛远了和缺乏动力；但是如果没有梦想和目标，和咸鱼有什么分别呢？所以把2019年的新年目标任务写下来，给自己立个flag，实施准则：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;低头看书学习做事，抬头思考总结做人~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;书&#34;&gt;书&lt;/h2&gt;
&lt;p&gt;现在大部分时间看书都是利用手机，在上班下班的时间，碎片化阅读；双休日和假期的时候，找一个天上午下午来深度阅读；不过感觉后面给书的时间越来越少了，时间的管理是越发的重要。&lt;/p&gt;
&lt;h3 id=&#34;非技术类&#34;&gt;非技术类&lt;/h3&gt;
&lt;p&gt;读书不分先后顺序， 按一年12个月算，暂时定每个月看完一到两本书，这里大部分心理学和经济学方面的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/1012611/&#34;&gt;乌合之众&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/10785583/&#34;&gt;思考，快与慢&lt;/a&gt; (书比较难啃)&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/10785583/&#34;&gt;原则&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/11445548/&#34;&gt;自私的基因&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/30259720/&#34;&gt;今日简史&lt;/a&gt; &lt;a href=&#34;https://book.douban.com/subject/26945094/&#34;&gt;未来简史&lt;/a&gt; &lt;a href=&#34;https://book.douban.com/subject/25985021/&#34;&gt;人类简史&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/30186119/&#34;&gt;硅谷增长黑客实战笔记&lt;/a&gt; (适合ab策略数据分析)&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/27167992/&#34;&gt;见识&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/26704143/&#34;&gt;把时间当作朋友&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/27662713/&#34;&gt;舆论&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/26412113/&#34;&gt;机器人叛乱&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/6811366/&#34;&gt;禅与摩托车维修艺术&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;技术类&#34;&gt;技术类&lt;/h3&gt;
&lt;p&gt;技术类的主要是最近工作可能会用到的，作为参考书籍，具体还需要到工作中实践转化成自己，就如一本武功秘籍，还需要日积月累的修炼，大侠不是一招一式就能混迹江湖的；技术迭代越来越快，学习是一个长期的过期，新技术层出不穷(新技术的学习离不开开源社区github，代码是最好的文档)，但是计算机基础的东西是不变的，技术的迭代都是在原有的基础技术上发展，所以修炼内功心法还是很重要的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/26337939/&#34;&gt;七周七并发模型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/26586598/&#34;&gt;性能之巅&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/26586598/&#34;&gt;Linux高性能服务器编程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; &lt;a href=&#34;https://book.douban.com/subject/10590856/&#34;&gt;统计学习方法&lt;/a&gt; &lt;a href=&#34;https://book.douban.com/subject/26708119/&#34;&gt;机器学习&lt;/a&gt; &lt;a href=&#34;https://book.douban.com/subject/27087503/&#34;&gt;深度学习&lt;/a&gt; (这个学起来有些枯燥，需要网上找点代码case来结合实际应用场景)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他语言类的，网络编程类的，数据库操作优化类的数据都可以在越到问题的时候，通过技术专有的关键字可以google/百度一下, 去解决实际越到问题，要比直接看书要印象深刻的多，知其然而知所以然。&lt;/p&gt;
&lt;h2 id=&#34;事&#34;&gt;事&lt;/h2&gt;
&lt;p&gt;2018的事还是比较简单的。&lt;/p&gt;
&lt;p&gt;工作上大部分时间是解决业务需求，偶尔也会写出一些bug, 做事缺乏全面的考虑，有些事情不是自己愿意去做的，有时候缺乏积极性；作为一个在职场混迹六年的人来说，范这些错误，难免会有点尴尬，所以在后面的职场工作中，不管是喜欢和重复厌倦的事情，都要认真负责的去对待，工作是给公司解决问题，不能带着情绪化处理；还有工作上需要协调把控好效率和产出质量。&lt;/p&gt;
&lt;p&gt;感情上通过相亲认识了投缘的另一半，虽然两人外形上可能有些不搭调~，但是最后异地恋走在一起挺不容易的；年底总数把买房子的事情给结尾，装修的事情两人商量着慢慢来，彼此相信会有一个温馨的家🏠&lt;/p&gt;
&lt;p&gt;2019的规划：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;主要是自己工作上有突破，不管是技能还是处理事情&lt;/li&gt;
&lt;li&gt;帮助她找到一份还算满意的工作&lt;/li&gt;
&lt;li&gt;弄完房子准备结婚🎎&lt;/li&gt;
&lt;li&gt;接父母过来玩&lt;/li&gt;
&lt;li&gt;用golang 重构一下小机器人&lt;/li&gt;
&lt;li&gt;完成网关weegate&lt;/li&gt;
&lt;li&gt;more&amp;hellip;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;思&#34;&gt;思&lt;/h2&gt;
&lt;p&gt;年复一年，岁月催人老，30+的程序猿看着00后都已经开始上大学，开始进入社会实习了，突然危机感油然而生，是否就一定会被社会淘汰呢，是否就到了35+岁, 就不能编程了呢，给公司创造的价值就打折了呢？也许这些问题和社会上的鸭梨一直会存在，并激励着资历老猿们去反思，去复盘总结；经验是有的，斗志在，就怕不学习，俗话说的好：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;活到老，学到老，干到老！（为即将或者已成老猿 代言，笔芯~）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;最后&#34;&gt;最后&lt;/h2&gt;
&lt;p&gt;借用我最喜欢的乔布斯语录，作为本文的结尾（虽然有点鸡血的感觉）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;人这一辈子没法做太多的事情，所以每一件都要做得精彩绝伦。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;你的时间有限，所以不要为别人而活。不要被教条所限，不要活在别人的观念里。不要让别人的意见左右自己内心的声音。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;最重要的是，勇敢的去追随自己的心灵和直觉，只有自己的心灵和直觉才知道你自己的真实想法，其他一切都是次要。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;链接&#34;&gt;链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;amp;mid=2651011968&amp;amp;idx=1&amp;amp;sn=3d500660f7dd47c9fa4033bd9fa69c2f&#34;&gt;解读2018：我们处在一个什么样的技术浪潮当中？&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.zhihu.com/question/22937279&#34;&gt;程序员工作只能做到 35 岁吗？&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=MzI2MDI5NDQwMg==&amp;amp;mid=2247483959&amp;amp;idx=1&amp;amp;sn=bcb5fb9eb2aca5810d87ad3b63c4612b&amp;amp;chksm=ea6a905add1d194c57468ac88b611b9005290d1d922154a7b6fe9fec3fdd710c27de41282608&amp;amp;mpshare=1&amp;amp;scene=1&amp;amp;srcid=0327cbNpv&#34;&gt;35岁以后的大龄程序员，正处于怎样一种状态?&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>屏蔽macbook内置键盘</title>
      <link>https://weedge.github.io/post/mackeyboard-hhkb/</link>
      <pubDate>Sat, 19 Jan 2019 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/mackeyboard-hhkb/</guid>
      
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;  昨天晚上和女友争吵，不小心把水洒在macbook的键盘上了，当时没有及时关机烘干，直接就把本给关上了，导致今天早上起来发现键盘按z左边的shift键失灵，有时候一直重复z键，过了一段时间z键失灵，还有其他几个键也失灵了，网上搜了一下，有可能是排线的原因，找官网修理一下, 估计也得300到1000不等；想想这些维修费用都可以买个键盘了。&lt;/p&gt;
&lt;p&gt;  生日的时候女友给我买了一个有线静容无刻版的hhkb（答应用这个努力赚钱的），当时用了一段时间，无刻版的数字键不是很好按，后面觉得上班每天背着它有点沉，就搁浅了；现在好了，内置键盘已坏，以后就靠这个键盘了，一直用也不换了;&lt;/p&gt;
&lt;p&gt;但是有个问题，把键盘放在macbook的内置键盘上有可能会触发上面的按键， 需要禁用掉内置键盘；网上找了一个挺好用的软件&lt;a href=&#34;https://pqrs.org/osx/karabiner/&#34;&gt;Karabiner&lt;/a&gt;，也可以设置物理键映射，具体操作帮助文档可以见&lt;a href=&#34;https://pqrs.org/osx/karabiner/document.html&#34;&gt;官网文档&lt;/a&gt;；下载安装后，设置如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/kar.png&#34; alt=&#34;karabiner&#34;&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>abtest</title>
      <link>https://weedge.github.io/todo/abtest/</link>
      <pubDate>Sat, 23 Dec 2017 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/todo/abtest/</guid>
      
        <description></description>
      
    </item>
    
    <item>
      <title>id生成</title>
      <link>https://weedge.github.io/post/idgen/</link>
      <pubDate>Tue, 12 Dec 2017 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/idgen/</guid>
      
        <description>&lt;h2 id=&#34;背景&#34;&gt;背景&lt;/h2&gt;
&lt;p&gt;  用户业务数据增长过快，比如文章评论系统，feed流系统，订单系统；数据的存放模型需要从主从的单机单库 演变成 分布式集群数据库； 分库分表的数据查询需用到全局唯一标识的id来查询业务，比如莫个feed的评论数据、推送消息、购物订单、活动优惠劵等等都需要进行唯一ID标识；以便分布式存储(mysql,nosql,newsql)索引(b+tree, LSMtree,inverted index)快速查询；至于数据一致性通过约定规范协议保证(强：类Paxos算法/raft算法，弱: mq) 。&lt;/p&gt;
&lt;h2 id=&#34;特征&#34;&gt;特征&lt;/h2&gt;
&lt;p&gt;根据不同的需求场景进行总体归纳全局id生成服务的特征：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;全局唯一：最基本要求，不能出现重复的id；&lt;/li&gt;
&lt;li&gt;趋势递增：业务中如果大量使用mysql innodb来存放数据，而innodb使用聚集索引(cluster index)，使用b+tree来存放索引数据，所以在主键的选择存放上应该尽量使用整数型有序的主键，来保证数据的写入性能(顺序io)&lt;/li&gt;
&lt;li&gt;单调递增：IM增量消息，排序序列号&lt;/li&gt;
&lt;li&gt;可解码：比如统计分析id的生成情况，尽量是服务分布均匀，需要查看业务id(appID),生成时间(time ms), 以及id服务节点号(nodeID)&lt;/li&gt;
&lt;li&gt;信息安全：生成id的规律不能过于简单，比如单调递增，信息详情展示页会有规律的爬取，这样直接可以估算出一些指标数据(天订单量，天feed产生流量等)；所以需要id无规律生成(可以内部获取有规律的id后，进行加盐编码处理)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些特征有些是互斥的，不能同时满足，需要根据业务场景具体分析(可能有些场景特征还未考虑到，后续加入），选择对应特征方案来满足。&lt;/p&gt;
&lt;p&gt;id生成服务的评价指标：（由于在分布式系统中，id生成服务依赖度非常高，需要高可用和高性能）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;平均响应时间和所有请求中的千分之999的最低相应时间(TP999)尽可能的低；&lt;/li&gt;
&lt;li&gt;SLA(可用性)5个9(全年低于5分钟的不可用时间)&lt;/li&gt;
&lt;li&gt;QPS(每秒请求量)尽可能的高&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;方案&#34;&gt;方案&lt;/h2&gt;
&lt;h3 id=&#34;uuid&#34;&gt;uuid&lt;/h3&gt;
&lt;p&gt;标准型式包含32个16进制数字，以连字号分为五段，形式为8-4-4-4-12的36个字符，无序，不适合用来做为数据库(B+Tree)中的主键。&lt;/p&gt;
&lt;h3 id=&#34;snowflake&#34;&gt;snowflake&lt;/h3&gt;
&lt;p&gt;twitter中的feed数据从mysql迁移至Cassandra中存放，cassandra没有顺序id生成机制，提出的一种解决方案；不依赖其他组件服务，直接程序算法实现；&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;41位的时间序列（精确到毫秒，41位的长度可以使用69年）&lt;/li&gt;
&lt;li&gt;10位的机器标识（10位的长度最多支持部署1024个节点），根据业务服务类型和部署还可进行细分，比如idc,机器,业务id(appid)&lt;/li&gt;
&lt;li&gt;12位的计数顺序号（12位的计数顺序号支持每个节点每毫秒产生4096个ID序号）&lt;/li&gt;
&lt;li&gt;最高位是符号位，始终为0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/snowflake-64bit.jpg&#34; alt=&#34;snowflake&#34;&gt;&lt;/p&gt;
&lt;p&gt;64位bigint类型ID, 最大2^63-1  19位10进制数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;缺点: 多机部署时，必须保证时间是同步的，否则如果存在时间回溯，出现重复id。&lt;/li&gt;
&lt;li&gt;解决方案：可以加上多台机器时间同步检测恢复机制&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E6%99%82%E9%96%93%E5%8D%94%E5%AE%9A&#34;&gt;NTP网络时间协议&lt;/a&gt;，可以尽量避免&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;redis生成id&#34;&gt;redis生成id:&lt;/h3&gt;
&lt;p&gt;利用redis的单线程机制，以及原子递增操作INCR和INCRBY来实现；多台部署：采用按起始值分N台机器数间隔递增(等差数列)，格式：时间戳+单日增长号；(单点故障，由于等差值N机器数是事先定义好的，水平扩容不方便，不便于运维)&lt;/p&gt;
&lt;h3 id=&#34;mysql生成id64位&#34;&gt;mysql生成id(64位):&lt;/h3&gt;
&lt;p&gt;利用mysql的auto_increment自助机制 + replace into table操作(table定义两个字段，一个是64位的主键自增字段，一个是属性唯一字段) +InnoDB/MyISAM引擎 来实现，多台主从部署：采用按起始值分N台机器数间隔递增(等差数列)，需要设置mysql自增参数：set auto_increment_increment=N.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存在问题：&lt;br&gt;
主跪了，切从，主从数据同步存在延时的话，id会出现重复的情况，以及每次生成id，都要访问一次数据库replace操作，性能会降低很多；&lt;/li&gt;
&lt;li&gt;解决方案：&lt;br&gt;
通过“号段”segment批量获取的方式，从mysql中获取ID,然后扩大倍数M,设定范围[ID*M,(ID+1)*M]，然后从内存中的这个范围里生成一个自增序列号，如果到了范围的最大值，则阻塞其他请求，由最早的线程去db获取id，设定范围，或者在号码到达最大范围的10~75%的时候提前去db获取id，这样就不会阻塞的情况；然后继续以述过程。这个方案有个小缺陷就是服务重启，以往内存中的id范围段就会浪费掉，但是64位还是挺多的，性能提高了，浪费点也就无所谓啦~ 当然如果你是处女座，最求极致可以旁路监控记录已经分配出去的id，启动的时候在捞回来放入内存中继续分配生成id）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个方案比较常用，稳定，依赖mysql，需要与dba配合操作,和redis生成id一样不便于水平扩展，运维维护，改进方案类似于美团的Leaf-segment设计，采用元数据(tag,max_id,step,desc,create_time,update_time)管理，对业务tag进行分库扩容，减低运维维护成本&lt;/p&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;性能上当然snowflake性能最好，全局唯一，趋势递增，可解码，不依赖其他组件，唯一缺陷是时间不同步的问题，如果回退的时间比较大，服务可能就跪了，解决方案：服务启动时就进行校验时间是否与启动的服务节点一致，依赖于zk或者etcd来记录监控各个genId service服务节点的时间信息，验证相同则ok，否则启动失败，报警。应用场景feed流&lt;/li&gt;
&lt;li&gt;稳定上mysql生成id方案比较好，全局唯一，单个mysql实例可以保证单调递增，扩容多实例变成趋势递增(proxy wrr负载均衡w=1)，性能和主从同步延迟导致id重复问题，这些问题可以通过内存中的ID范围段segment来计算生成自增序列id解决。应用场景订单号，消息id&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;参考阅读&#34;&gt;参考阅读&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/F7WTNeC3OUr76sZARtqRjw&#34;&gt;分布式架构系统生成全局唯一序列号的一个思路&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tech.meituan.com/MT_Leaf.html&#34;&gt;美团点评id生成器系统-Leaf&lt;/a&gt;  (HA，性能，便于扩容,通过管理元数据(tag,max_id,step,desc,create_time,update_time)，对业务tag进行分库扩容；通过zk来同步每个启动的Leaf节点时间，新的服务启动是通过时间校验机制来规避时间戳不同步，回拨问题上的监控)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://yuerblog.cc/2017/11/21/golang-id-alloc/&#34;&gt;golang分布式id生成服务&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://thesecretlivesofdata.com/raft/&#34;&gt;raft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>消息队列</title>
      <link>https://weedge.github.io/todo/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</link>
      <pubDate>Sun, 12 Nov 2017 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/todo/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</guid>
      
        <description>&lt;h2 id=&#34;消息队列介绍what&#34;&gt;消息队列介绍what&lt;/h2&gt;
&lt;h3 id=&#34;协议&#34;&gt;协议：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;MQTT&lt;/strong&gt;(Message Queuing Telemetry Transport，消息队列遥测传输，基于二进制消息的发布/订阅编程模式的消息协议):&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://docs.emqtt.cn/zh_CN/latest/mqtt.html&#34;&gt;http://docs.emqtt.cn/zh_CN/latest/mqtt.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/20888181&#34;&gt;https://zhuanlan.zhihu.com/p/20888181&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;简单的协议:&lt;a href=&#34;http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html&#34;&gt;http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于规范协议很简单，非常适合需要低功耗和网络带宽有限的IoT场景。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;AMQP&lt;/strong&gt;(Advanced Message Queuing Protocol,一个提供统一消息服务的应用层标准高级消息队列协议，是应用层协议的一个开发标准，为面向消息的中间件设计)：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;XMPP&lt;/strong&gt;(可扩展消息处理现场协议，Extensible Messaging and Presence Protocol）是基于可扩展标记语言的协议，多用于即时消息)：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;消息队列原理why&#34;&gt;&lt;strong&gt;消息&lt;/strong&gt;队列原理why&lt;/h2&gt;
&lt;h2 id=&#34;消息队列使用场景where&#34;&gt;消息队列使用场景where&lt;/h2&gt;
&lt;h2 id=&#34;如何设计消息队列how&#34;&gt;如何设计消息队列how&lt;/h2&gt;
&lt;h2 id=&#34;开源消息队列&#34;&gt;开源消息队列&lt;/h2&gt;
&lt;h3 id=&#34;kafka&#34;&gt;kafka&lt;/h3&gt;
&lt;h3 id=&#34;nsq&#34;&gt;NSQ&lt;/h3&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
</description>
      
    </item>
    
    <item>
      <title>golang学习笔记</title>
      <link>https://weedge.github.io/post/golang/</link>
      <pubDate>Wed, 01 Nov 2017 01:16:30 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/golang/</guid>
      
        <description>&lt;p&gt;刚开始接触golang的时候是在大学时候，当时大概是2010年左右，对这门新语言比较好奇，但是没有深入去了解，只是道听途说这门语言在并发处理上很方便，对于协程这个东西也是第一次听说。自从工作之后，就一直没有接触过这门语言,最近公司想往golang上转，开发新的项目平台，毕竟golang运行效率和开发效率都要比其他语言要简单方便很多(听说c++都快20了)。&lt;/p&gt;
&lt;p&gt;吉祥物：（憨厚小地鼠 move~move~move~ Bui~~~~    go~go~go~ ）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/go-mascot.png&#34; alt=&#34;地鼠&#34;&gt;&lt;/p&gt;
&lt;p&gt;（萌萌の勤劳小地鼠~）并发协作：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/go-concurrence.png&#34; alt=&#34;并发协作&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;语言&#34;&gt;语言&lt;/h2&gt;
&lt;p&gt;看七周七语言中提到的，语言各有特色，用于不同的开发场景，对应团队的工具栈；经常用自己熟悉的编程语言，思维模式也会有所不同；总的来说，支持KISS原则，方便高效开发/测试/部署/运行，并发运行解决问题，流出更多时间关注业务或者&lt;code&gt;kick ass &amp;amp;&amp;amp; Chew bubblegum (just a joke~)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;发展历史&#34;&gt;发展历史：&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;发明这个语言的初衷，「不忘初心，方得始终」&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;为毛需要这个语言：https://www.oschina.net/translate/go-at-google-language-design-in-the-service-of-software-engineering&lt;/li&gt;
&lt;li&gt;初心：简单,开发简洁，方便快速开发编译发布(开发语言的作者来自c和java, 作者Rob Pike实现并发思想,布道者，他相关的视频和文章需要多看，精髓哦，This guy is a genius~ )&lt;/li&gt;
&lt;li&gt;源码：https://github.com/golang/go&lt;/li&gt;
&lt;li&gt;特殊节点：2008 6.6 ~1.5版本去除了c代码实现自举(1.5+直接用go来编译安装即可)， now 10年+ golang2.0 版  &lt;a href=&#34;https://github.com/golang/go/wiki/Go2&#34;&gt;https://github.com/golang/go/wiki/Go2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Hello,Gopher（golang作者之一Rob Pike 讲的golang发展史，及众家语言之所长，发明这个语言的初衷）:https://www.youtube.com/watch?v=VoS7DsT1rdM&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd &lt;a href=&#34;https://talks.golang.org/2014/hellogophers.slide##12&#34;&gt;slide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Go Concurrency Patterns(一些并发模式case, goroutine通过channel组合传递共享数据, no race like DAG): &lt;a href=&#34;https://www.youtube.com/watch?v=f6kdp27TYZs&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd&#34;&gt;https://www.youtube.com/watch?v=f6kdp27TYZs&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd&lt;/a&gt;  &lt;a href=&#34;https://talks.golang.org/2012/concurrency.slide&#34;&gt;slide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Concurrency Is Not Parallelism: &lt;a href=&#34;https://blog.golang.org/concurrency-is-not-parallelism&#34;&gt;https://blog.golang.org/concurrency-is-not-parallelism&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Simplicity is Complicated: &lt;a href=&#34;https://www.youtube.com/watch?v=rFejpH_tAHM&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd&#34;&gt;https://www.youtube.com/watch?v=rFejpH_tAHM&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd&lt;/a&gt; &lt;a href=&#34;https://talks.golang.org/2015/simplicity-is-complicated.slide#1&#34;&gt;slide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The Design of the Go Assembler：https://www.youtube.com/watch?v=KINIAgRpkDA&amp;amp;list=PL3NQHgGj2vtsJkK6ZyTzogNUTqe4nFSWd &lt;a href=&#34;https://talks.golang.org/2016/asm.slide#1&#34;&gt;slide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;特征&#34;&gt;特征：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;KISS；简单朴实 （做工程的人最喜欢的就是简单实用的东西）；&lt;/li&gt;
&lt;li&gt;运行占用资源低(可运行在嵌入式平台linux arm)，跨平台&lt;/li&gt;
&lt;li&gt;((内存)数据结构+算法+抽象定义接口)；&lt;/li&gt;
&lt;li&gt;语法简单，25个关键字；&lt;/li&gt;
&lt;li&gt;c语言结构体形式模拟继承方法重写机制；&lt;/li&gt;
&lt;li&gt;基础数据结构类型：byte,string, array; slice, map,chanel 引用类型；(其他数据结构heap(优先队列),list,ring(circular list)这些在官方提供的公共库中)&lt;/li&gt;
&lt;li&gt;强类型语言，interface{} 表示通用类型(相当于stl中的模板)；&lt;/li&gt;
&lt;li&gt;异常处理: defer, panic, recover 抛出一个panic的异常（异常指的是意料之外的情况，比如引用了空指针，下标越界，除数为0，不应该出现的分支，比如default），然后在defer中通过recover捕获这个异常，最后正常处理；注意如果没有recover去捕获异常，程序就会退出；&lt;/li&gt;
&lt;li&gt;错误机制: error，错误指的是意料之中的情况，比如文件可能会打开失败，网络连接可能断开导致连接失败等等，错误是业务过程的一部分，而异常不是 (业务需定义常见的错误码标识对应错误信息)&lt;/li&gt;
&lt;li&gt;变量对象内存分配通过tcmalloc来申请一块span, 分成多个page提供使用，充分利用内存空间，通过gc回收runtime对象(随着版本迭代，对gc的效率逐渐提高，有专门的runtime团队支持)&lt;/li&gt;
&lt;li&gt;并发程序通过channel共享内存(share memory by communicating)；&lt;/li&gt;
&lt;li&gt;适合web后端开发(官方golang.org已提供的基础库 &lt;a href=&#34;https://golang.org/pkg/&#34;&gt;https://golang.org/pkg/&lt;/a&gt; ，net/http(请求，响应，client，server), http/template, 数据库客户端驱动接口定义database/sql(三方根据接口标准可以自定义实现，也可以自己单独定义一套标准实现)，数据加密crypto）；&lt;/li&gt;
&lt;li&gt;通过goroutine(协程，用户级别轻量级线程)支持并发， 协程通过channel通信( &amp;lt;-chan interface{} 接收chan；chan&amp;lt;-interface{} 发送chan；同步通过sync机制(lock(锁接口) mutex(某个goroutine加互斥锁) rwlock(对读写操作加锁) WaitGroup(pv操作,对goroutine组) ，Cond(条件变量，信号量))；&lt;/li&gt;
&lt;li&gt;Golang实现了 CSP(Communicating Sequential Process &lt;a href=&#34;http://www.usingcsp.com/cspbook.pdf&#34;&gt;http://www.usingcsp.com/cspbook.pdf&lt;/a&gt; )并发模型做为并发基础，底层使用goroutine做为并发实体，goroutine非常轻量级可以创建几十万个实体；实体间通过 channel 继续匿名消息传递使之解耦，在语言层面实现了自动调度，这样屏蔽了很多内部细节，对外提供简单的语法关键字(go,select,channel)，大大简化了并发编程的思维转换和管理线程的复杂性；&lt;/li&gt;
&lt;li&gt;SO OPEN，import 三方库源(大部分git的方式来自github/gitlib，还支持hg)，源码直接可以修改编译(取之于源用之源)；&lt;/li&gt;
&lt;li&gt;Go 命令工具方便开发自测调试： &lt;a href=&#34;https://golang.org/cmd/go/&#34;&gt;https://golang.org/cmd/go/&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;通过go test来单元测试，覆盖测试，性能测试(cpu,pprof)，直接可以测试用例先行，&lt;/li&gt;
&lt;li&gt;go tool,  pprof (进行性能分析 &lt;a href=&#34;http://cizixs.com/2017/09/11/profiling-golang-program&#34;&gt;http://cizixs.com/2017/09/11/profiling-golang-program&lt;/a&gt; ）objdump(dump出汇编代码）&lt;/li&gt;
&lt;li&gt;go get -u ~=  download to go build and install , go run 单独运行&lt;/li&gt;
&lt;li&gt;go fmt 代码格式化，统一编码风格，方便协同编程&lt;/li&gt;
&lt;li&gt;go mod: &lt;a href=&#34;https://github.com/golang/go/wiki/Modules&#34;&gt;https://github.com/golang/go/wiki/Modules&lt;/a&gt; 1.11新引入的功能，方便package依赖管理，类似nodejs中的npm&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Go 2.0正待发布，10年+发展，会有一些优化和新特性  &lt;a href=&#34;https://www.youtube.com/watch?v=RIvL2ONhFBI&#34;&gt;https://www.youtube.com/watch?v=RIvL2ONhFBI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More…..&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;工作上使用语言进化&#34;&gt;工作上使用语言进化&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/coder.jpg&#34; alt=&#34;coder&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;C/C++ -&amp;gt; *.so -&amp;gt; php/python  |   java -&amp;gt; *.jar  ==&amp;raquo;  go -&amp;gt; *.a -import-&amp;gt; pkg -compile-&amp;gt;  binary program&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;编写运行：复杂  -&amp;gt;  简单&lt;/p&gt;
&lt;p&gt;Go 相当于兼顾了c的执行效率，python的开发效率，择中方案，适合服务端开发(业务开发，基础组件开发(网关，db，AI)，自动化运维工具开发devops);
如果用go来调用.so动态链接库，需要用cgo机制&lt;/p&gt;
&lt;p&gt;语法对比参考：http://hyperpolyglot.org/c&lt;/p&gt;
&lt;h2 id=&#34;学习&#34;&gt;学习&lt;/h2&gt;
&lt;ol start=&#34;0&#34;&gt;
&lt;li&gt;开始入门：https://golang.org/doc/code.html&lt;/li&gt;
&lt;li&gt;golang的基本语法知识，可以通过gotour来进行简单的学习入门，godoc查看具体基础文档和get到本地的三方库接口文档，
Gotour简单入门 ——&amp;gt; &lt;a href=&#34;https://github.com/qyuhen/book/blob/master/Go%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E7%AC%AC%E5%9B%9B%E7%89%88.pdf&#34;&gt;语法快速入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;练习习题：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://goquiz.github.io/&#34;&gt;Go语言经典笔试题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gobyexample.com&#34;&gt;Go实例&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;最佳实践：(这个会根据实践场景逐渐完善，最终可能会形成一个标准规范)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://talks.golang.org/2013/bestpractices.slide&#34;&gt;12条最佳实践&lt;/a&gt; &lt;a href=&#34;http://maiyang.me/2017/10/21/twelve-best-practices-in-golang/&#34;&gt;中文解释&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;面向对象设计SOLID：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.gokit.info/post/go-solid-design/&#34;&gt;SOLID&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;业务常用依赖阶级开发：(掌握一些三方库，方便快速集成开发)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Web开发框架：
&lt;ul&gt;
&lt;li&gt;beego &lt;a href=&#34;https://github.com/astaxie/beego&#34;&gt;https://github.com/astaxie/beego&lt;/a&gt;  支持mvc, orm; 适用于cms，mis管理后台开始开发 （重量点，开发框架已经搭好，基础web开发组件已有，RBAC规范后台权限）
&lt;ul&gt;
&lt;li&gt;gin &lt;a href=&#34;https://github.com/gin-gonic/gin&#34;&gt;https://github.com/gin-gonic/gin&lt;/a&gt; 利用httprouter实现高性能路由 (轻量点，适合diy)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据库 （client driver）
&lt;ul&gt;
&lt;li&gt;msyql: &lt;a href=&#34;https://github.com/go-sql-driver/mysql&#34;&gt;https://github.com/go-sql-driver/mysql&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;Redis: &lt;a href=&#34;https://github.com/garyburd/redigo&#34;&gt;https://github.com/garyburd/redigo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mongo: &lt;a href=&#34;https://github.com/go-mgo/mgo&#34;&gt;https://github.com/go-mgo/mgo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ZK client: &lt;a href=&#34;https://github.com/samuel/go-zookeeper/zk&#34;&gt;https://github.com/samuel/go-zookeeper/zk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Grpc: &lt;a href=&#34;https://github.com/grpc/grpc-go&#34;&gt;https://github.com/grpc/grpc-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Log: &lt;a href=&#34;https://github.com/sirupsen/logrus&#34;&gt;https://github.com/sirupsen/logrus&lt;/a&gt; (以hook机制添加自定的日志，lograte:https://github.com/sirupsen/logrus##rotation，或者https://github.com/natefinch/lumberjack)&lt;/li&gt;
&lt;li&gt;队列: &lt;a href=&#34;https://github.com/nsqio/nsq&#34;&gt;https://github.com/nsqio/nsq&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;订阅资源blog:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.golang.org&#34;&gt;https://blog.golang.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.goinggo.net&#34;&gt;https://www.goinggo.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gocn.io/&#34;&gt;https://gocn.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;实践踩的坑：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/29545675&#34;&gt;https://zhuanlan.zhihu.com/p/29545675&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/31395716&#34;&gt;https://zhuanlan.zhihu.com/p/31395716&lt;/a&gt; (channel,引发的死锁）&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;应用场景：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/26777189&#34;&gt;新闻实时推送&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More:  DIY （u can do it）&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;好的开源项目：&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hackstoic/golang-open-source-projects&#34;&gt;golang-open-source-projects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/avelino/awesome-go&#34;&gt;awesome-go&lt;/a&gt; (full-stack dev for venture company )&lt;/li&gt;
&lt;li&gt;Web server服务：
&lt;ul&gt;
&lt;li&gt;Caddy：类似nginx,apache,middleware chain(责任链模式) 管理方式，独立的mw也可拆分单独运行，比如负载均衡模块，反向代理，fastcgi代理 &lt;a href=&#34;https://github.com/mholt/caddy&#34;&gt;https://github.com/mholt/caddy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;网关：
&lt;ul&gt;
&lt;li&gt;krakend: &lt;a href=&#34;https://github.com/devopsfaith/krakend&#34;&gt;https://github.com/devopsfaith/krakend&lt;/a&gt;  （高性能，相比kong&amp;hellip;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;微服务：
&lt;ul&gt;
&lt;li&gt;go-micro (&lt;a href=&#34;https://github.com/micro/go-micro&#34;&gt;https://github.com/micro/go-micro&lt;/a&gt;  +  plugins: &lt;a href=&#34;https://github.com/micro/go-plugins&#34;&gt;https://github.com/micro/go-plugins&lt;/a&gt;  )
&lt;ul&gt;
&lt;li&gt;Go-kit (&lt;a href=&#34;https://github.com/go-kit/kit&#34;&gt;https://github.com/go-kit/kit&lt;/a&gt;  very nice micro-service lib framework) diy 借鉴 相关介绍：https://www.youtube.com/watch?v=NX0sHF8ZZgw&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;服务发现：
&lt;ul&gt;
&lt;li&gt;etcd: &lt;a href=&#34;https://github.com/coreos/etcd&#34;&gt;https://github.com/coreos/etcd&lt;/a&gt; (功能介绍: &lt;a href=&#34;http://www.infoq.com/cn/articles/etcd-interpretation-application-scenario-implement-principle&#34;&gt;http://www.infoq.com/cn/articles/etcd-interpretation-application-scenario-implement-principle&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Consul: &lt;a href=&#34;https://github.com/hashicorp/consul&#34;&gt;https://github.com/hashicorp/consul&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Rpc：
&lt;ul&gt;
&lt;li&gt;grpc: &lt;a href=&#34;https://github.com/grpc/grpc-go&#34;&gt;https://github.com/grpc/grpc-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;thrift: &lt;a href=&#34;https://github.com/apache/thrift/tree/master/lib/go&#34;&gt;https://github.com/apache/thrift/tree/master/lib/go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Web开发框架：
&lt;ul&gt;
&lt;li&gt;beego(支持mvc模式开发,https://github.com/astaxie/beego)，&lt;/li&gt;
&lt;li&gt;gin(高性能路由请求处理,https://github.com/gin-gonic/gin )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据库服务：
&lt;ul&gt;
&lt;li&gt;Tidb (NewSQL 数据库，水平扩展，强一致，分布式事务，多种数据引擎选择，mysql协议通信 &lt;a href=&#34;https://github.com/pingcap/tidb&#34;&gt;https://github.com/pingcap/tidb&lt;/a&gt; 国内公司用的比较多）&lt;/li&gt;
&lt;li&gt;Cockroachdb  (NewSQL 数据库，有百度的同学提交维护 &lt;a href=&#34;https://github.com/cockroachdb/cockroach&#34;&gt;https://github.com/cockroachdb/cockroach&lt;/a&gt; ）&lt;/li&gt;
&lt;li&gt;Influxdb (时序数据库，应用于监控日志数据存储，提供实时数据展现，https://github.com/influxdata/influxdb）&lt;/li&gt;
&lt;li&gt;Bboltdb (本地嵌入式数据库 , LMDB的go实现版本,https://github.com/coreos/bbolt)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;推送：
&lt;ul&gt;
&lt;li&gt;Gorush: &lt;a href=&#34;https://github.com/appleboy/gorush&#34;&gt;https://github.com/appleboy/gorush&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;爬虫：
&lt;ul&gt;
&lt;li&gt;Gocolly: &lt;a href=&#34;https://github.com/gocolly/colly&#34;&gt;https://github.com/gocolly/colly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Gocrawl: &lt;a href=&#34;https://github.com/PuerkitoBio/gocrawl&#34;&gt;https://github.com/PuerkitoBio/gocrawl&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;文件：
&lt;ul&gt;
&lt;li&gt;Upspin: &lt;a href=&#34;https://github.com/upspin/upspin&#34;&gt;https://github.com/upspin/upspin&lt;/a&gt; (Rob Pike 主导的一个实验项目，https://www.youtube.com/watch?v=ENLWEfi0Tkg)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;链路跟踪：
&lt;ul&gt;
&lt;li&gt;Opentracing: &lt;a href=&#34;https://github.com/opentracing/opentracing-go&#34;&gt;https://github.com/opentracing/opentracing-go&lt;/a&gt;  结合zipkin&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;实时消息队列平台：
&lt;ul&gt;
&lt;li&gt;NSQ: &lt;a href=&#34;https://github.com/nsqio/nsq&#34;&gt;https://github.com/nsqio/nsq&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;监控:
&lt;ul&gt;
&lt;li&gt;grafana：https://github.com/grafana/grafana&lt;/li&gt;
&lt;li&gt;prometheus: &lt;a href=&#34;https://github.com/prometheus/prometheus&#34;&gt;https://github.com/prometheus/prometheus&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;容器管理：
&lt;ul&gt;
&lt;li&gt;Kubernetes(K8S): &lt;a href=&#34;https://github.com/kubernetes/kubernetes&#34;&gt;https://github.com/kubernetes/kubernetes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Kubernetes Handbook: &lt;a href=&#34;https://jimmysong.io/kubernetes-handbook/&#34;&gt;https://jimmysong.io/kubernetes-handbook/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;代码仓库服务：
&lt;ul&gt;
&lt;li&gt;gogs (轻量级的代码工具，可以运行在pi上, 界面和github相似, &lt;a href=&#34;https://github.com/gogits/gogs&#34;&gt;https://github.com/gogits/gogs&lt;/a&gt; ）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CI/CD(Continuous Delivery):
&lt;ul&gt;
&lt;li&gt;Drone: &lt;a href=&#34;https://github.com/drone/drone&#34;&gt;https://github.com/drone/drone&lt;/a&gt; （可配套自研上线运维平台）&lt;/li&gt;
&lt;li&gt;jenkins-x: &lt;a href=&#34;https://github.com/jenkins-x/jx&#34;&gt;https://github.com/jenkins-x/jx&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;工具：
&lt;ul&gt;
&lt;li&gt;Gotty: &lt;a href=&#34;https://github.com/yudai/gotty&#34;&gt;https://github.com/yudai/gotty&lt;/a&gt; （webshell)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;静态网页生成器：
&lt;ul&gt;
&lt;li&gt;hugo: &lt;a href=&#34;https://github.com/gohugoio/hugo&#34;&gt;https://github.com/gohugoio/hugo&lt;/a&gt; (可以用来写个人技术博客)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;数据科学(cheat sheet)： &lt;a href=&#34;https://www.cheatography.com/chewxy/cheat-sheets/data-science-in-go-a/pdf/&#34;&gt;https://www.cheatography.com/chewxy/cheat-sheets/data-science-in-go-a/pdf/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;深入理解&#34;&gt;深入理解&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/goroutine.jpg&#34; alt=&#34;goroutine实现机制&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;goroutine实现机制：https://www.zhihu.com/question/20862617 （M:内核OS线程；G:goroutine用户态轻量级线程，自己的栈，正在等待的channel等；P: 调度的上下文，是调度协调的处理器，P的数量代表了真正的并发度)
（tips：相对于java中并发库实现是不是要简洁高效些呢，https://golang.org/doc/faq##goroutines  这个解释了golang为什么用协成代替线程）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同步机制：sync lock(锁接口) mutex(某个goroutine加互斥锁) rwlock(对读写操作加锁) WaitGroup(pv操作,对goroutine组) ，Cond(条件变量，信号量) 用法参考：https://deepzz.com/post/golang-sync-package-usage.html  (其实就是OS中的同步机制实现)   锁的话是一个原子操作，要么锁住，要么不做，通过atomic操作底层的cpu指令(CHANGE*, SWAP* &amp;hellip;.etc指令根据不同的cpu/gpu厂商定义，intel/amd)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内存管理： &lt;a href=&#34;http://legendtkl.com/2017/04/02/golang-alloc/&#34;&gt;http://legendtkl.com/2017/04/02/golang-alloc/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GC机制：http://legendtkl.com/2017/04/28/golang-gc/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;深入了解golang的执行原理，https://github.com/qyuhen/book/blob/master/Go%201.5%20%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90.pdf (底层的运行时逻辑有点像php的执行过程, php7底层运行结构也借鉴了golang的设计思想，比如内存的申请)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;faq&#34;&gt;FAQ:&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://golang.org/doc/faq&#34;&gt;https://golang.org/doc/faq&lt;/a&gt;  相当有用值得一读&lt;/p&gt;
&lt;p&gt;热更新方案： &lt;a href=&#34;https://studygolang.com/topics/1194&#34;&gt;https://studygolang.com/topics/1194&lt;/a&gt;  (监控一个当前版本文件是否变动了，如果变动然后将老的执行文件软连指向新的执行文件(rm 软连,ln 创建新的软连，然后通过hup信号优雅的重启由endless启动的服务)&lt;/p&gt;
&lt;h2 id=&#34;开发工具&#34;&gt;开发工具&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;vim-go: &lt;a href=&#34;https://github.com/fatih/vim-go&#34;&gt;https://github.com/fatih/vim-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;vscode-go: &lt;a href=&#34;https://github.com/Microsoft/vscode-go&#34;&gt;https://github.com/Microsoft/vscode-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;goland: &lt;a href=&#34;https://www.jetbrains.com/go/&#34;&gt;https://www.jetbrains.com/go/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;diy&#34;&gt;DIY&lt;/h2&gt;
&lt;p&gt;(熟悉三方源码，基础库，自行diy服务)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 网关服务&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 网关后台&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; abtest&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; abtest后台&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 微服务
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; passport&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; activity&lt;/li&gt;
&lt;li&gt;More…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 资源管理(K8S)&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 监控&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; ci/cd构建发布上线&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 队列&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>更换博客</title>
      <link>https://weedge.github.io/post/use-hugo-blog/</link>
      <pubDate>Thu, 12 Oct 2017 10:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/use-hugo-blog/</guid>
      
        <description>&lt;p&gt;  博客有段时间一直没有跟新过了，说白了，就是太懒了，或者没有动力去push你去干好这件事情；看着以前的博客，寥寥无几的几篇，质量也不高；早上上班经常看一些公众号文章，有个作者每天坚持写一篇文章，都已经坚持了大半年了，从生活的思考记录，到技术的积累，而且输出的文章质量不错，至少自己读了之后会产生一些共鸣，或者学到一些知识点。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;经常听到技术人总结的话：技术是一个积累的过程，从别人那里看到的，和自己去动手实现的是两回事，别人趟过的坑，你再重新踩一次，也许会遇到新的坑，这些踩过之后，把这些知识点和满坑方案记录下来，日积月累，是对以后是有帮助的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;  以前的博客是用&lt;a href=&#34;http://octopress.org/docs/&#34;&gt;octopress&lt;/a&gt;来生成博客的静态文件的，最近发现这个没有更新了; 自己在想是不是可以自己按照这个思路生成一套，加上最近在学习golang；在网上索搜了用golang生成博客的工具，确实有个不错的开源工具&lt;a href=&#34;https://gohugo.io/&#34;&gt;hugo&lt;/a&gt;，使用后，发现超级方便，生成到发布就两步，相比繁琐操作的octopress,要简单方便的多，而且生成的前端模板用的是&lt;a href=&#34;https://mustache.github.io/&#34;&gt;mustache&lt;/a&gt;，模板语法在前端比较常用;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;macOS下安装，直接可以通过brew来安装&lt;code&gt;sudo brew install hugo&lt;/code&gt;就可以使用了；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建立自己的博客，用markdown写文章，然后本地查看，检查ok在发布到github page上；具体操作看&lt;a href=&#34;https://gohugo.io/documentation/&#34;&gt;官方文档&lt;/a&gt;吧， 这里就不介绍了哈。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  现在就开始新的写作记录旅程吧!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;路漫漫其修远兮，吾将上下而求索(The road ahead will be long, I shall search)&lt;/p&gt;
&lt;/blockquote&gt;</description>
      
    </item>
    
    <item>
      <title>附近POI: geohash原理</title>
      <link>https://weedge.github.io/post/geohash/</link>
      <pubDate>Wed, 03 Jun 2015 00:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/geohash/</guid>
      
        <description>&lt;h3 id=&#34;问题&#34;&gt;问题&lt;/h3&gt;
&lt;p&gt;  现在吃穿住行的app大都有定位的功能；如何让手机app所在的定位寻找出附近的POI(Point of Interest)呢？至于用户手机是如何获取定位的可以自行Google/Baidu，有时间整理一下。&lt;/p&gt;
&lt;p&gt;地图上定位一个地方，通过经度(longitude)和纬度(latitude)来标记，由WGS84规定(为GPS全球定位系统使用而建立的坐标系统)；比如地球🌍作为一个球体，纬度是指&lt;code&gt;所在位置的纬线到地心的直线&lt;/code&gt;和&lt;code&gt;赤道的纬线到地心的直线&lt;/code&gt;的夹角，通常北纬为正，南纬为负；经度是指&lt;code&gt;所在位置的经线平面&lt;/code&gt;和&lt;code&gt;规定的本初子午线平面&lt;/code&gt;的夹角，以东为东经，以西为西经，通常东经为正，西经为负；&lt;/p&gt;
&lt;p&gt;一个地点的经度一般与它于协调世界时之间的时差相应：每天有24小时，而一个圆圈有360度，因此地球每小时自转15度。因此假如一个人的地方时比协调世界UTC(Coordinated Universal Time)时早3小时的话，那么他在东经45度左右，比如北京是在东经116左右，那时区+8作为中国标准时间CST(China Standard Time)&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;解决方案&#34;&gt;解决方案&lt;/h3&gt;
&lt;p&gt;通过app可以获取到定位信息经维度，以及后台POI(实时/离线)录入的经纬度信息，如何获取附近POI呢？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;直接按距离计算：定位的经纬度确定对应的地区；然后和所在地区中的所有商户POI经纬度信息进行距离计算，然后排序，找出最近几公里内的商户POI；这种方法比较暴力，遇到数据量大的时候，比较耗时；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;既然数据量大，采用分而治之的办法筛选查找：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用Mysql的B+tree索引进行范围筛选：直接按距离计算(经纬度建立索引)/GeoHash；&lt;/li&gt;
&lt;li&gt;利用Mysql的Rtree空间索引(5.7.4+,InnoDB支持)：mysql空间数据类型(Point,LineString, Polygon)来进行检索；&lt;/li&gt;
&lt;li&gt;利用PostgreSQL的PostGIS模块：通过R树 或 GIST树索引来实现空间索引，PostGIS 实现了Open Geospatial Consortium所提出的基本要素类（点、线、面、多点、多线、多面等）的SQL查询；&lt;/li&gt;
&lt;li&gt;利用MongoDB: 依赖MongoDB的空间搜索算法(geoNear,near),底层也是对GeoHash进行B+tree索引;命令如下：  &lt;code&gt;db.runCommand({ geoNear: &amp;quot;places&amp;quot;, near: [30.545162, 104.062018], num:1000 })&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;将经纬度转换成GeoHash字符串，利用字典树查找term,找到对应倒排索引中的商户信息；&lt;/li&gt;
&lt;li&gt;利用Redis(3.2+) GEO命令 &lt;code&gt;GEOADD GEOHASH GEOPOS GEODIST GEORADIUS GEORADIUSBYMEMBER&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://s2geometry.io/&#34;&gt;谷歌的 S² 算法&lt;/a&gt;: 将基于希尔伯特曲线实现，算法性能要优于geohash；具体看官网介绍，具体细节还没有弄清楚，待续~&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从这些解决方案中可以总结出，根据对位置经纬度信息进行转换，然后结合具体的数据结构和算法来实现，适用不同场景:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将经纬度信息转成一维的GeoHash字符串(表示对应位置的区块)，通过ziplist,B+树,字典树trie(倒排索引中的term存储结构)来索引，提供索搜查询；&lt;/li&gt;
&lt;li&gt;将经纬度信息转换成多维的点线面空间信息，通过四叉树,R树,GIST树来索引，提供索搜查询;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;方案概要&#34;&gt;方案概要&lt;/h3&gt;
&lt;p&gt;以上给出的具体实施方案，篇幅有限，这里主要是讨论GeoHash编码方式来表示空间信息。具体空间信息采集可以采集高德地图的接口，或者&lt;a href=&#34;https://github.com/lzxue/WeiboDataShare&#34;&gt;微博的一份数据&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;geohash&#34;&gt;GeoHash&lt;/h3&gt;
&lt;p&gt;geohash 是 Gustavo Niemeyer 发明的一种对地理位置进行编码的算法；它是一种分级的数据结构，把空间划分为网格。Geohash 属于空间填充曲线中的 Z 阶曲线(&lt;a href=&#34;https://en.wikipedia.org/wiki/Z-order_curve&#34;&gt;Z-order curve&lt;/a&gt;)的实际应用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过二维的经纬度所在的区块表示成一维的字符串信息，字符串的长度越长，表示的区域范围更加精确。长度为9的geohash编码的精度能达到4米左右，10位的geohash经度能达到0.6米，一般情况下能满足我们大部分的需求；&lt;/li&gt;
&lt;li&gt;geohash 生成的字符串代表的不是地图上的一个点，而是地图上一个矩形区域，在一定程度上能保证隐私(知道大概的位置)；&lt;/li&gt;
&lt;li&gt;geohash编号后方便索引和缓存，具有公共前缀的geohash编码作为key/term 索引、查找附近区域的的POI信息；&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;原理&#34;&gt;原理&lt;/h4&gt;
&lt;h4 id=&#34;编码步骤&#34;&gt;编码步骤&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;首先将纬度范围(-90, 90)平分成两个区间(-90, 0)、(0, 90)， 如果目标纬度位于前一个区间，则编码为0，否则编码为1; 以此类推，直到精度符合要求为止;&lt;/li&gt;
&lt;li&gt;经度也用同样的算法，对(-180, 180)依次细分;&lt;/li&gt;
&lt;li&gt;接下来组码，将经度和纬度的编码合并，奇数位是纬度，偶数位是经度，得到二进制编码；&lt;/li&gt;
&lt;li&gt;最后使用base32（0-9、b-z，去掉a,i,l,o，比较常用）或者base36编码(base36的版本对大小写敏感，用了36个字符，“23456789bBCdDFgGhHjJKlLMnNPqQrRtTVWX”)；这里采用base32方式进行操作，首先将组合好的二进制码转成对应的十进制（二进制每5位表示一个base32字符）；十进制对应base32编码表如下：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/weedge.github.io/master/image/base32.png&#34; alt=&#34;base32&#34;&gt;&lt;/p&gt;
&lt;p&gt;例如：将坐标 (39.97696,116.3764874)（latitude, longitude）编码成长度为12的字符串(base32编码) wx4g2jwf8tqx&lt;/p&gt;
&lt;p&gt;精度表：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;length&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;latitude bits&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;longitude bits&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;latitude error&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;longitude error&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;km error&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±23&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±23&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±2500&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±2.8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±5.6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±630&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.70&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.70&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±78&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.087&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.18&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;13&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.022&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.022&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±2.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.0027&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.0055&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.61&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;17&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00068&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00068&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.076&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;20&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00008&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00017&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.019&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;22&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;23&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00002&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.000021&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00478&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;25&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000268&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000536&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.0005971&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;27&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;28&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000067&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000067&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.0001492&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000008&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.00000017&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;±0.0000186&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;geohash编码长度对应区域大小：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;length&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;width&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;height&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5000km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5000km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1250km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;625km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;156km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;156km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;39.1km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.5km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4.89km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4.89km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.22km&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.61km&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;153m&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;153m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;38.2m&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;19.1m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4.77m&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4.77m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.19m&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0.596m&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;11&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;149mm&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;149mm&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;37.2mm&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;18.6mm&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;解码步骤&#34;&gt;解码步骤&lt;/h4&gt;
&lt;p&gt;解码操作为编码操作的逆向过程，这里就省略(后续补上)&lt;/p&gt;
&lt;h4 id=&#34;获取相邻区域&#34;&gt;获取相邻区域&lt;/h4&gt;
&lt;p&gt;为啥要获取相邻区域呢？？？&lt;/p&gt;
&lt;p&gt;根据编码算法定义不难看出，如果需要寻找附近多少米的POI，根据精度只要前缀匹配规定长度的字符串(可以把经常访问的前缀匹配的字符串表示的区域POI信息缓存起来)，比如坐标 (39.97696,116.3764874)对应成长度为12的字符串wx4g2jwf8tqx，想找附近500m的POI，长度为6的geohash编码能表示矩形区域在0.744平方千米左右（区域大小和geohash编码长度对应关系见上表），那么查询的时候就可缩小范围，找出那些前缀为wx4g2j的POI，与wx4g2jwf8tqx公共前缀匹配的长度越大，离得距离也就越近；&lt;/p&gt;
&lt;p&gt;但是这种前缀匹配的方式存在一个临近边界问题，就是在区域的边界地方，在这个区域的相邻区域的公共前缀不同（长度按照区域大小选出），按照公共前缀匹配的方法会少筛选出一部分附近的POI;&lt;/p&gt;
&lt;p&gt;解决的办法是将相邻的8块区域也算进来，扩大寻找范围，计算这些区域中的POI和所在位置的距离， 然后按距离排序筛选；&lt;/p&gt;
&lt;h4 id=&#34;待续-geohash-vs-s&#34;&gt;待续 (Geohash vs S²)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Geohash 有12级，从5000km 到 3.7cm。中间每一级的变化比较大。有时候可能选择上一级会大很多，选择下一级又会小一些。比如选择字符串长度为4，它对应的区域宽度是39.1km，需求可能是50km，那么选择字符串长度为5，对应的区域宽度就变成了156km，瞬间又大了3倍了。这种情况选择多长的 Geohash 字符串就比较难选。选择不好，每次判断可能就还需要取出周围的8个格子再次进行判断。Geohash 需要 12 bytes 存储。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S² 有30级，从 0.7cm² 到 85,000,000km² 。中间每一级的变化都比较平缓，接近于4次方的曲线。所以选择精度不会出现 Geohash 选择困难的问题。S2 的存储只需要一个 uint64 即可存下。S²算法待续&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;抛出问题&#34;&gt;抛出问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 运动的个体(个体也可以当做POI)，如何获取附近实时运动的POI呢？ 实时计算方案呢？(像多人约会涉猎app)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;参考&#34;&gt;参考&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E7%BB%8F%E5%BA%A6&#34;&gt;经度&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E7%BA%AC%E5%BA%A6&#34;&gt;维度&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Geohash&#34;&gt;GeoHash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.movable-type.co.uk/scripts/gis-faq-5.1.html&#34;&gt;空间距离计算&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tech.meituan.com/lucene_distance.html&#34;&gt;地理空间距离计算优化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dev.mysql.com/doc/refman/8.0/en/spatial-types.html&#34;&gt;Mysql8.0 - Spatial Data Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://postgis.net/workshops/postgis-intro/&#34;&gt;PostGIS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.mongoing.com/mongodb-geo-index-1/&#34;&gt;MongoDB地理索引初探&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.huangz.me/diary/2015/redis-geo.html&#34;&gt;Redis GEO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.huangz.me/diary/2015/annotated-redis-geo-source.html&#34;&gt;Redis GEO源码&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://halfrost.com/go_spatial_search/&#34;&gt;高效的多维空间点索引算法 — Geohash 和 Google S2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/LBSer/p/3310455.html&#34;&gt;GeoHash核心原理解析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://geohash.gofreerange.com/&#34;&gt;GeoHash在线演示&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/mmcloughlin/geohash&#34;&gt;Geohash-GO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/weedge/geo&#34;&gt;Geohash-PHP扩展&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>工具盒子-GNU global</title>
      <link>https://weedge.github.io/post/gnu-global/</link>
      <pubDate>Sat, 15 Nov 2014 21:04:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/gnu-global/</guid>
      
        <description>&lt;h3 id=&#34;gnu-global&#34;&gt;gnu global&lt;/h3&gt;
&lt;p&gt;源码标记，浏览源码挺好用的工具,轻量级的，简单易用。 gtags类似ctags,但是效率比ctags高，具体比较查看&lt;a href=&#34;https://github.com/OpenGrok/OpenGrok/wiki/Comparison-with-Similar-Tools&#34;&gt;这里&lt;/a&gt;(OpenGrok使用相对比较复杂)，而且未来支持的语言也比较多。对Linux-2.6.32源码390M的文件进行标签产出289MB的标签文件。&lt;/p&gt;
&lt;p&gt;可以通过源码安装就OK &lt;!-- raw HTML omitted --&gt;wget &lt;a href=&#34;http://tamacom.com/global/global-6.3.2.tar.gz;&#34;&gt;http://tamacom.com/global/global-6.3.2.tar.gz;&lt;/a&gt; tar zxvf global-6.3.2.tar.gz; cd global-6.3.2; ./configure; make &amp;amp;&amp;amp; make install&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;在需要查找的目录下运行&lt;!-- raw HTML omitted --&gt;gtags&lt;!-- raw HTML omitted --&gt;,会生成三个文件： GTAGS&amp;ndash;定义的函数变量； GRTAGS&amp;ndash;引用的函数变量； GPATH&amp;ndash;函数变量所在文件的路径。&lt;/p&gt;
&lt;p&gt;有用的命令：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;global -f DIR/fileC.c &amp;ndash;color&lt;!-- raw HTML omitted --&gt;这个命令看这个文件下有哪些函数，比较有用,加-l在当前目录下查找&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;global -r func&lt;!-- raw HTML omitted --&gt;函数在哪些文件中引用&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;global -ax func&lt;!-- raw HTML omitted --&gt;函数所在的目录文件具体哪些行&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;global -P file&lt;!-- raw HTML omitted --&gt;匹配文件目录文件，类似&lt;!-- raw HTML omitted --&gt;find ./ -type d | grep file&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;li&gt;&lt;!-- raw HTML omitted --&gt;global -g func&lt;!-- raw HTML omitted --&gt;匹配有func字符的文件，和grep功能一样&lt;/li&gt;
&lt;li&gt;如果代码跟新了，需要更新标签文件，&lt;!-- raw HTML omitted --&gt;global -vu&lt;!-- raw HTML omitted --&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过globash进入global命令模式，其中&lt;!-- raw HTML omitted --&gt;show -e/v/l/g Nth&lt;!-- raw HTML omitted --&gt;分别用emacs,vi,less,mozilla 来浏览第N个文件标记所搜得关键词的内容，或者不指定用编辑器，采用环境变量EDITOR定义号的编辑器来查看(在.bashrc中添加&lt;!-- raw HTML omitted --&gt;export EDITOR=vim&lt;!-- raw HTML omitted --&gt;)，个人比较喜欢用vim；使用tags查看已经查看过的tags；使用mark来标记查询过的标签tag,&lt;!-- raw HTML omitted --&gt;mark -l&lt;!-- raw HTML omitted --&gt;列出mark列表，&lt;!-- raw HTML omitted --&gt;mark Nth&lt;!-- raw HTML omitted --&gt;通过默认编辑器浏览mark的第N个文件；&lt;!-- raw HTML omitted --&gt;pop&lt;!-- raw HTML omitted --&gt;对记录过的查找标签命令的结果栈退出栈顶结果，并显示处理后的栈顶结果；&lt;!-- raw HTML omitted --&gt;cookie&lt;!-- raw HTML omitted --&gt;用来记录当前的文件夹，&lt;!-- raw HTML omitted --&gt;cookie -l&lt;!-- raw HTML omitted --&gt;查看cookie记录的文件夹，&lt;!-- raw HTML omitted --&gt;warp Nth&lt;!-- raw HTML omitted --&gt;返回列出的第N个文件夹。&lt;br&gt;
其他简单的命令可以通过ghelp查看。&lt;/p&gt;
&lt;p&gt;还有个htags是用来生成超文本文件的，方便在浏览器下查看，如果在命令行的开发坏境下，这个有个毛用哦~&lt;/p&gt;
&lt;p&gt;使用gtags-cscope进入client模式具体操作按？帮助文档操作，(哈哈，貌似像个搜索引擎，tag的缓存文件采用的b-tree)。具体见&lt;a href=&#34;https://www.gnu.org/software/global/globaldoc_toc.html#Requesting-the-initial-search&#34;&gt;https://www.gnu.org/software/global/globaldoc_toc.html#Requesting-the-initial-search&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;gtags,global其他具体命令，参考帮助文档或者查看&lt;a href=&#34;https://www.gnu.org/software/global/globaldoc_toc.html&#34;&gt;Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;gtags可以作为ctags的扩展进行使用，具体参考&lt;a href=&#34;https://www.gnu.org/software/global/globaldoc_toc.html#Plug_002din&#34;&gt;https://www.gnu.org/software/global/globaldoc_toc.html#Plug_002din&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;vim中使用global&#34;&gt;VIM中使用global&lt;/h3&gt;
&lt;p&gt;可以之间从安装好的global文件间share中将gtags.vim复制到~/.vim/plugin文件夹中：&lt;!-- raw HTML omitted --&gt;cp /usr/local/share/gtags/gtags.vim $HOME/.vim/plugin&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;或者如果使用vundle来管理的话，BundleSearch gtags 安装；或者直接&lt;!-- raw HTML omitted --&gt;cd $HOME/.vim/bundle &amp;amp;&amp;amp; git clone &lt;a href=&#34;https://github.com/vim-scripts/gtags.vim&#34;&gt;https://github.com/vim-scripts/gtags.vim&lt;/a&gt; gtags&lt;!-- raw HTML omitted --&gt;，或者用git submodule来管理，原理都差不多，自己vim以前用vundle管理过，就直接将自己用的插件全部整合在一起了，去掉vundle插件，采用git submodule管理插件模块，但是vundle整体管理框架还在，&lt;a href=&#34;https://github.com/weedge/Vim-PHP-IDE&#34;&gt;vim配置&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;在vim的命令模式下采用Gtags命令，参数和shell命令行一样，查找出来的list列表在quickfix window 中展现，操作的话与grep命令差不多，但是筛选比较细些，用-g参数就和grep一样，后面可以加上grep一样的参数。&lt;/p&gt;
&lt;p&gt;具体参考&lt;a href=&#34;https://www.gnu.org/software/global/globaldoc_toc.html#Vim-editor&#34;&gt;https://www.gnu.org/software/global/globaldoc_toc.html#Vim-editor&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;总结&#34;&gt;总结&lt;/h3&gt;
&lt;p&gt;global作为一个轻量级的源码标记，浏览源码挺好用的工具，总体体验了吧，gtags生成的文件进行了细分，tag的检索效率相对提高了，如果源码比较大型的话，采用global -vu 来更新tag文件，要快很多；用vim进行开发，可以使用gtags.vim这个插件，与grep配合使用吧(当所检索的函数/变量tag比较模糊的时候，可以先用grep查询，在使用Gtags定位).好用程度，只有继续体验一段时间吧。。。&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>登泰山</title>
      <link>https://weedge.github.io/post/taishan/</link>
      <pubDate>Sun, 21 Sep 2014 22:04:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/taishan/</guid>
      
        <description>&lt;h2 id=&#34;登泰山看日出&#34;&gt;登泰山看日出&lt;/h2&gt;
&lt;p&gt;会当凌绝顶，一览众山小  &amp;ndash; 杜甫《望岳》&lt;br&gt;
平明登日观，举手开云关  &amp;ndash; 李白《游泰山》&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;出发&#34;&gt;出发&lt;/h3&gt;
&lt;p&gt;登泰山，一次突然做出的决定，木有看攻略，木有做啥子准备，备点衣服和一些吃的就走了。为了赶火车，提前下班打卡就从公司出发啦~（ps:哈哈，恰好周五公司发下午茶，多拿了一盒水果，感谢公司福利，~！~)。在南站与老宋汇合后，在车站吃了点晚餐就走了。&lt;br&gt;
而且定火车那天木有直达的列车，买了到济南西，然后转泰安的车票。就这么愉快的出发鸟~~~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/1.jpeg&#34; alt=&#34;出发&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;济南西&#34;&gt;济南西&lt;/h3&gt;
&lt;p&gt;来到济南西，下车之后在广场上逛了会，一朵莲花在中间·开着·莲花应该是市花吧~~~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/2.jpeg&#34; alt=&#34;莲花-济南西站&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;补充能量&#34;&gt;补充能量&lt;/h3&gt;
&lt;p&gt;在泰安火车站坐上公交来到泰山火车站，在附近超市买了点水和吃的，一个手电筒，中途有两个妹妹搭讪一起坐车过去，嘿嘿，可惜肚子饿了~，在色和食之间还是选择了填饱肚子。。。。╮(╯▽╰)╭，活该DS单身啊~! 汗。。。。&lt;br&gt;
这边夜宵摊子还是挺多的，找了一家貌似人还多那么一点的摊子搞起~；烧烤一般般，泰酒还似不错滴~； 喝酒就脸红的人都搞了一瓶，哎呦，不错哦~&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/3.jpeg&#34; alt=&#34;泰酒&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;买票出发&#34;&gt;买票出发&lt;/h3&gt;
&lt;p&gt;吃完夜宵，打了一辆的士来到出发的地点&amp;ndash;红门，夜比较深，当时已近过了凌晨了，排队买票上山的人还是挺多的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/4.jpeg&#34; alt=&#34;排队买票&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;登山途中&#34;&gt;登山途中&lt;/h3&gt;
&lt;p&gt;在途中买了登山杖(就是guaizhang)，才2元，感觉泰山人好淳朴的，爬到山顶，煎饼也只要6块左右吧，食材什么的运上去也挺累的，（以前爬的崀山，海拔还没有泰山高，一瓶水都要10元，好坑爹~）泰人好耿直呀~。
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/5.jpeg&#34; alt=&#34;泰山上的小卖部&#34;&gt;&lt;/p&gt;
&lt;p&gt;中途遇到一家人登山，带着3小孩，小孩子一点睡意都没有！好赞~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/6.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;‘锁福’ 一颗被锁围住的树，祈福~，如老树的岁月一样长长久久吧~。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/7.jpeg&#34; alt=&#34;登山遇到一颗上来各种锁的树&#34;&gt;&lt;/p&gt;
&lt;p&gt;到达中天门，大约是半夜三更了把，哈哈，才爬玩路程的一半，后面还有的爬，一段比较陡的在后头等着~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/8.jpeg&#34; alt=&#34;中天门&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/9.jpeg&#34; alt=&#34;中天门&#34;&gt;&lt;/p&gt;
&lt;p&gt;后面的路程比较艰难，几乎是边走边休息，断断续续爬完，不过爬的挺踏实的，一步一个脚印，好不容易来到南天门(貌似这个是登上天堂的入口啊~)，租了一件军大衣，哈哈，一不小心穿着个军大衣成仙囖~。&lt;/p&gt;
&lt;h3 id=&#34;登峰看日出&#34;&gt;登峰看日出&lt;/h3&gt;
&lt;p&gt;过了南天门，还要爬个几百米，上面很多的庙，还有一条·天街·，上面有旅馆，救治点，这貌似都是天亮的时候看到的，在上山的路上其实有很多风景挺好看的，就是太黑了，相机才玩不久，不会调，只会设个自动挡，一顿乱拍，虽然能对上焦，但是拍出来的都是些星星点点的，效果很搓，也许是相机比较挫吧~，哈哈。&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/10.jpeg&#34; alt=&#34;月亮照路&#34;&gt;&lt;/p&gt;
&lt;p&gt;登山观看日出的人貌似还是比较多的，节假日应该人更多吧。有个地方是好的拍摄地点，一个是玉皇顶上寺庙上；还有个最佳位置是在日观峰的拱北石处，人比较多，貌似那边要收费！自己在各种石头中找了一个还不错的位置。等待着日出。(秋天日出的时间在5点45分左右)&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/11.jpeg&#34; alt=&#34;等待日出&#34;&gt;&lt;/p&gt;
&lt;p&gt;弯弯的月亮还在熟睡，火红的太阳正在苏醒~ 神圣的时刻就要来鸟！&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/12.jpeg&#34; alt=&#34;等待观日出&#34;&gt;&lt;/p&gt;
&lt;p&gt;日出前的云海，天边渐渐被染红~！红光出现的一线天，好激动~。哈哈，本来想把这些留在心头的，但是既然是转眼即逝的，美好的东西，最珍贵的一刻，就应该记录下来，待日后再看回忆，珍惜好当下。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/0.jpeg&#34; alt=&#34;日出前的全景&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/13.jpeg&#34; alt=&#34;日出前的云海&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/14.jpeg&#34; alt=&#34;看云海等日出&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/15.jpeg&#34; alt=&#34;云海&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/16.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/17.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/18.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/19.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/20.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/21.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/22.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&amp;hellip;.当时看到这个可爱的太阳正在冉冉升起，有种想触碰下的赶脚~ 情不自禁的想摸。 哈哈，手贱了~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/23.jpeg&#34; alt=&#34;手贱&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/24.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/25.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/26.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/27.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/28.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/29.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/30.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/31.jpeg&#34; alt=&#34;日出东方&#34;&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/32.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/33.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果下次有机会想再看一次。
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/00.jpeg&#34; alt=&#34;日出全景&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;逛庙&#34;&gt;逛庙&lt;/h3&gt;
&lt;p&gt;来到玉皇顶上的寺庙里，应该是到顶了。&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/34.jpeg&#34; alt=&#34;&#34;&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/35.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;海拔1545米~&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/36.jpeg&#34; alt=&#34;顶峰-庙-锁&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后在顶上一边看云海，一边吃带的早餐。哈哈，近距离看棉花糖，胃口大开。&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/37.jpeg&#34; alt=&#34;近距离棉花糖&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/38.jpeg&#34; alt=&#34;日出后的云海1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/39.jpeg&#34; alt=&#34;日出后的云海2&#34;&gt;&lt;/p&gt;
&lt;p&gt;大约太阳升起半个多小时左右，天空出现了一条水平线，搭载着云，感觉整座山在云海中漂浮前进着。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/40.jpeg&#34; alt=&#34;地平线&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/41.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;各种棉花糖在飘动，真有种腾云驾雾，成仙的赶脚。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/42.jpeg&#34; alt=&#34;棉花糖&#34;&gt;&lt;/p&gt;
&lt;p&gt;蓝色的海平线~
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/000.jpeg&#34; alt=&#34;棉花糖&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;到此一游&#34;&gt;到此一游&lt;/h3&gt;
&lt;p&gt;最后在石头上的合影。哈哈~ 有点冷~&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/43.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;下山&#34;&gt;下山&lt;/h3&gt;
&lt;p&gt;下山的时候看到远处的观景台，简直美极了，但是木有去。&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/44.jpeg&#34; alt=&#34;me&#34;&gt;&lt;br&gt;
下山路上有当地人挑着扁担上山的，还有老人登上。
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/51.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;按原路返回，到了中天门后坐上大巴车下山了，打了一辆的士来到岱庙附近吃饭，吃了特色的煎饼，把菜一顿乱裹着就啃掉了，貌似啃几个就饱了，再次喝点泰酒(升级版~)，补充能量。&lt;/p&gt;
&lt;h3 id=&#34;岱庙&#34;&gt;岱庙&lt;/h3&gt;
&lt;p&gt;岱庙在泰山脚下，很清闲的地方， 泰山地址博物馆，存放了泰山上动植物，石头标本；&lt;br&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/46.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/45.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/47.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;各种花岗岩，下山途中捡的石头，分不清是属于那种。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/48.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;上善若水&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/49.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;偶尔见到几只松鼠。。。。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/weedge/mypic/master/taishan/50.jpeg&#34; alt=&#34;me&#34;&gt;&lt;/p&gt;
&lt;p&gt;最后跟着一个导游团听了一会孔子的故事~，然后休息了一会儿赶火车了。&lt;/p&gt;
&lt;h3 id=&#34;结束&#34;&gt;结束&lt;/h3&gt;
&lt;p&gt;登泰山(貌似24多个小时都没睡过~)，很幸运的看到了美丽的日出，还有云海。下次如果还有机会来爬的话，希望能看到日落，哈哈，其实不同天气登山都无所谓吧，好好感受大自然的魅力~。泰山，再会~！&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>成都行</title>
      <link>https://weedge.github.io/post/chengdu/</link>
      <pubDate>Tue, 10 Dec 2013 01:16:30 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/chengdu/</guid>
      
        <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;由于入职时间的改变，有几天的时间空闲下来了，本来就没有准备的行程，以前没有想过的户外运动，本来是想体验一把的，趁这段时间，和老宋说好过去玩后，当天晚上啥都没有准备，直接就A过去了。这一趟还是挺有意思的，写这篇的时候，此刻正在老宋住的地方，准备着回北京的路上，写完后，收拾心情，准备好好工作。人生也许有很多的第一次，才能使生活变得更加的有意义吧。&lt;/p&gt;
&lt;h2 id=&#34;出发&#34;&gt;出发&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=dc8f5c765b82b2b7a39f39c10196bad2/ac345982b2b7d0a2713fc0efc9ef76094a369aca.jpg?referer=e925015d38292df5ced49825e6c8&amp;amp;x=.jpg&#34; alt=&#34;看灰机&#34;&gt;&lt;/p&gt;
&lt;p&gt;长这么大，还是头一次坐灰机，由于不是节假日出行，灰机票比平常的价格少了很多，来到机场登机处，看到外头灰机，用手机一顿乱拍，&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=b2663aad74094b36df921be893f70de4/caef76094b36acafad16528e7ed98d1000e99cca.jpg?referer=3ffaad2236a85edfa39bca13dcc8&amp;amp;x=.jpg&#34; alt=&#34;离开北京&#34;&gt;&lt;/p&gt;
&lt;p&gt;离开的时候，正好是晚上，在灰机上看整个北京城，看着一些灯光如同血液一般在流动；一座精力充沛的城市，夹杂着多少人的梦想到此北漂。只怪自己的手机不给力呀，照的效果比较暗~~~&lt;/p&gt;
&lt;p&gt;下了灰机，一路上和的哥闲聊成都最近PM2.5都爆表了，来到老宋住的地方。老宋一个大好人啊，星期五请病假，陪我一起成都玩，来这边啥都没准备，就A过来了，后面去阿坝羌族自治州阿尔沟玩，装备啥的，多亏他一路的照顾&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;成都软件园&#34;&gt;成都软件园&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=3f1d939bf0d3572c62e29cd9ba28121a/63d9f2d3572c11df9c207b51612762d0f603c2cb.jpg?referer=2f80a04ddbf9d72a4e73242d2ec9&amp;amp;x=.jpg&#34; alt=&#34;成都软件园&#34;&gt;&lt;/p&gt;
&lt;p&gt;星期五中午在成都软件园闲逛，整个园区好大，都是统一管理的，一条条大道连通在一起;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=7d07a8eda60f4bfb88d09e51337409cd/5bafa40f4bfbfbed5461f10d7af0f736afc31f8c.jpg?referer=612af54a2a381f30c70eb8995983&amp;amp;x=.jpg&#34; alt=&#34;成都软件园&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=90d17643a38b87d65442ab1a37335905/8601a18b87d6277fbde2f64a2a381f30e824fcd4.jpg?referer=0369b7610bf79052b608730e3cca&amp;amp;x=.jpg&#34; alt=&#34;银杏&#34;&gt;&lt;/p&gt;
&lt;p&gt;一路上的银杏树很多，恰好是吃中饭的时间，看到好多的IT猿/媛倍感情切，吃完饭走走，真的好休闲的样子。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=2aa9dc9fa1cc7cd9fe2d34dc093a5002/2fdda3cc7cd98d1087efcb43233fb80e7bec908d.jpg?referer=0bb739514b540923f37e564ed083&amp;amp;x=.jpg&#34; alt=&#34;idea coffee&#34;&gt;&lt;/p&gt;
&lt;p&gt;点子萌发碰撞的地方~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=7c11165392ef76c6d4d2fb2ead2d8cc7/e61190ef76c6a7ef57d76c54fffaaf51f2de66cb.jpg?referer=1b47575caad3fd1f6f1e960ac2c9&amp;amp;x=.jpg&#34; alt=&#34;i love this city&#34;&gt;&lt;/p&gt;
&lt;p&gt;软件园旁边的小区公园，正在建设中&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;西部智谷&#34;&gt;西部智谷&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=a919425e8501a18bf4eb124aae147635/b21c8701a18b87d605b26f6d050828381e30fdd4.jpg?referer=6d87d1e6442309f7be7899223bca&amp;amp;x=.jpg&#34; alt=&#34;去西部智谷&#34;&gt;&lt;/p&gt;
&lt;p&gt;乘坐公交去西部智谷见大学室友007，有些公交是木头车，挺好玩的，haha~ 坐了20多站路，第一次做这么多的站，一路看到好奇的建筑，就问老宋。哈哈~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=9327e48c34d3d539c53d0fc60abc9b6d/8644ebf81a4c510f833426686259252dd52aa5d4.jpg?referer=5639c0efc9ef7609651cadaf03ca&amp;amp;x=.jpg&#34; alt=&#34;西部智谷&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=d6efc4932d2eb938e86d7af7e559f708/caef76094b36acafacd5518e7ed98d1001e99c8f.jpg?referer=3e39ae2236a85edfa39bcb13dc85&amp;amp;x=.jpg&#34; alt=&#34;停车场&#34;&gt;&lt;/p&gt;
&lt;p&gt;到了西部智谷已经是下午4点左右了，一座新的工业园区吧。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=50aafeb633adcbef05347e039c945fe0/0df431adcbef7609cb3e5eed2cdda3cc7cd99e8f.jpg?referer=60f66b67be315c601a825edfda85&amp;amp;x=.jpg&#34; alt=&#34;吃晚饭&#34;&gt;&lt;/p&gt;
&lt;p&gt;哈哈，其实我是来蹭吃的~，一不小心宰了007一顿，第一次和煮啤酒，和小时候喝的甜酒差不多，好喝。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=26b42bf648ed2e73f8e98629b73ad3b6/cefc1e178a82b9015a5e0741718da9773812efd5.jpg?referer=47e2e09dabec8a134d0d63d049cb&amp;amp;x=.jpg&#34; alt=&#34;看公交牌&#34;&gt;&lt;/p&gt;
&lt;p&gt;离开的时候晚上9点，貌似只有最后一班末班车了，最后由于第二天需要去阿坝羌族自治州阿尔沟玩，急于回去准备，所以中途打了一辆的士回到老宋住的地方。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;第一次徒步--阿尔沟&#34;&gt;第一次徒步&amp;ndash;阿尔沟&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=d84638c267380cd7e21ea2e8917fdf09/37d3d539b6003af352bf1b12372ac65c1038b6bf.jpg?referer=3cdfc4932d2eb938b57a4fc2f255&amp;amp;x=.jpg&#34; alt=&#34;集合&#34;&gt;&lt;/p&gt;
&lt;p&gt;来这边玩，啥都没准备就A过来了，第一次徒步，装备都是借的老宋室友的，晚上7点到达集合地方准备出发，看到同行的女生背的包比我的大多了，倍感羞愧。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=b664e27a5143fbf2c12ca6268045bbbd/11385343fbf2b211e32b423cc88065380cd78ebf.jpg?referer=95e5155392ef76c689c5ce1bea55&amp;amp;x=.jpg&#34; alt=&#34;向导家&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=bf01444238f33a879a6d001ff6676105/b7003af33a87e9505f12341e12385343fbf2b4bf.jpg?referer=45164b7a99504fc2fb488535f455&amp;amp;x=.jpg&#34; alt=&#34;向导家正在杀猪&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=29f1f804f01fbe09185ec3115b5b7d0e/0b46f21fbe096b63a41e99220e338744ebf8acb9.jpg?referer=c319659fa344ad3477a8b2b70c57&amp;amp;x=.jpg&#34; alt=&#34;图腾&#34;&gt;&lt;/p&gt;
&lt;p&gt;到达当地向导家里，正在杀一头猪；这里的空气真心好~！羊角是羌族人崇拜的图腾。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=353e1b66ba99a9013f355b332dae7b46/e824b899a9014c084408efd7087b02087bf4f495.jpg?referer=51c5f804f01fbe094549f624348b&amp;amp;x=.jpg&#34; alt=&#34;准备出发&#34;&gt;&lt;/p&gt;
&lt;p&gt;哈哈，吃玩饭，准备出发。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=19c131bffe039245a5b5e10ab7afd5ff/c2fdfc039245d6880e3075d6a6c27d1ed21b2496.jpg?referer=91f409afa964034f56daf736848c&amp;amp;x=.jpg&#34; alt=&#34;车&#34;&gt;
&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=18f20e419045d688a702b2a194f90c23/fd039245d688d43f5c9b56807f1ed21b0ef43b96.jpg?referer=20e25926014f78f0d91cafc3858c&amp;amp;x=.jpg&#34; alt=&#34;到达徒步开始的地方&#34;&gt;&lt;/p&gt;
&lt;p&gt;用载猪的车到达徒步开始的地方。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=2040bd80d762853596e0d224a0d404fb/18d8bc3eb13533fa399b545caad3fd1f41345b97.jpg?referer=690bfcb619d5ad6ef3ee51daa58d&amp;amp;x=.jpg&#34; alt=&#34;过河&#34;&gt;
&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=8de1c3efc9ef7609380b999a1ee6d2f1/30adcbef76094b362dbadc9fa1cc7cd98d109d9c.jpg?referer=18304e735e6034a870f58db1db72&amp;amp;x=.jpg&#34; alt=&#34;冰&#34;&gt;
&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=dfeeb1546f224f4a5399731639cce26f/e850352ac65c10383e5609b0b0119313b07e899c.jpg?referer=22d727208735e5ddc93b90eff772&amp;amp;x=.jpg&#34; alt=&#34;过河&#34;&gt;&lt;/p&gt;
&lt;p&gt;过河的时候一不小心踩到水里面~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=c6046151b27eca80160539e2a118e6e0/9213b07eca80653878c2636195dda144ad34829c.jpg?referer=d3fa3c599f16fdfa817bf3deee72&amp;amp;x=.jpg&#34; alt=&#34;阳光&#34;&gt;
&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=803d264537fae6cd08b4ab643f887d19/3812b31bb051f819910ec438d8b44aed2e73e79d.jpg?referer=b7fafab8533d269777c43d6d4173&amp;amp;x=.jpg&#34; alt=&#34;枝头&#34;&gt;&lt;/p&gt;
&lt;p&gt;午后的阳光照在山头上。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=54bd977a0ed79123e4e094719d0f2bbf/fcfaaf51f3deb48f126966acf21f3a292df57844.jpg?referer=ae73d75d97cad1c889acc917b85a&amp;amp;x=.jpg&#34; alt=&#34;继续前行&#34;&gt;
&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=75c1636195dda144de096cb7828ca19f/902397dda144ad34209440f5d2a20cf431ad859d.jpg?referer=8ac846cd8e5494eede353a29e373&amp;amp;x=.jpg&#34; alt=&#34;继续走&#34;&gt;&lt;/p&gt;
&lt;p&gt;向导走的很快，继续前行，这次的路线相对比较短，对于我这只菜鸟级驴友很适合，哈哈~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=fcda89cb9c510fb37c197792e908baa8/f9198618367adab450fadc3189d4b31c8701e49e.jpg?referer=3c80abac3f6d55fb9cd143164474&amp;amp;x=.jpg&#34; alt=&#34;过河&#34;&gt;&lt;/p&gt;
&lt;p&gt;听老宋说以前没有这么多木头的，只能一只手可以扶着横着走过来。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=8316b8d2f403738dda4a0c278320c26c/622762d0f703918f9afbfab8533d269759eec49e.jpg?referer=ee3dda76369b033b759fc9ea2474&amp;amp;x=.jpg&#34; alt=&#34;灌木林&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=fae64e7cb33533faf1b6932b98e88f22/0ff41bd5ad6eddc4b2e473893bdbb6fd52663345.jpg?referer=50271986b54543a9ac0ccffc7d5c&amp;amp;x=.jpg&#34; alt=&#34;灌木林&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=d5ed70c9a41ea8d38e227401a7314273/dcc451da81cb39db50eaa024d2160924ab18309e.jpg?referer=a5be7064cdfc1e17a4a8b9017075&amp;amp;x=.jpg&#34; alt=&#34;阳光照在灌木林上&#34;&gt;&lt;/p&gt;
&lt;p&gt;来到灌木林，冬天了，树木上长满了苔藓。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=4e215a91ff1f4134e437057b1524e7f7/80cb39dbb6fd52663829fb66a918972bd4073646.jpg?referer=27c3ec558882b90164baf603725d&amp;amp;x=.jpg&#34; alt=&#34;来到扎营的地点&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=f66a415be9c4b7453094b713ffc76c2a/d01373f082025aaf5830b9b9f9edab64034f1a46.jpg?referer=5db47594257f9e2f29222838665d&amp;amp;x=.jpg&#34; alt=&#34;搭帐篷&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=3b4aeb9abe3eb13540c7b7be9625d9ee/18d8bc3eb13533fa39cb545caad3fd1f41345b47.jpg?referer=695bfcb619d5ad6ef3ee51daa55d&amp;amp;x=.jpg&#34; alt=&#34;三人帐篷&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=f4ada6a534d12f2eca05ae657ff9a45f/55e736d12f2eb9381411bd80d7628535e5dd6f40.jpg?referer=13c3231acebf6c81ae2019d8c95e&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;来到扎营的地点，这个地方貌似在一个峡谷里头，空气很清新。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=94d85b434e086e066ea83f4e32330ac9/a8014c086e061d95263af04a79f40ad162d9ca40.jpg?referer=de5e4c4b6963f624454a0c33365e&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;搭好帐篷晒阳光&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=554f7506e9f81a4c2232eccce7111164/8644ebf81a4c510f808525686259252dd42aa57b.jpg?referer=5588c3efc9ef7609651cacaf0319&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;脚湿了，烤火中~~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=b8594213fa1986184547ef817ad65c4e/eac4b74543a98226c4beec558882b9014a90eb41.jpg?referer=70b6f89360d9f2d3790611df555f&amp;amp;x=.jpg&#34; alt=&#34;抗木头&#34;&gt;&lt;/p&gt;
&lt;p&gt;扛木头，给力！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=cf065f765b82b2b7a39f39c10196b9d2/342ac65c1038534395b040539113b07eca808841.jpg?referer=bb207777e7dde711bec576c6e85f&amp;amp;x=.jpg&#34; alt=&#34;杀鸡&#34;&gt;&lt;/p&gt;
&lt;p&gt;杀本地的土鸡，准备晚上的烧烤材料，&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=270;q=90;c=xiangce,100,100/sign=121d4685a5efce1bee2bc8cf9f6a81e3/a71ea8d3fd1f413415f8000d271f95cad0c85ef1.jpg?referer=d328b1883bdbb6fd7c4cd1169aaf&amp;amp;x=.jpg&#34; alt=&#34;星星帐篷&#34;&gt;&lt;/p&gt;
&lt;p&gt;晚上的时候特别漂亮，天空中好多星星~，可惜当时晚上烧烤的时候喝晕了(本来酒量就不行)，直接进帐篷裹着睡袋就睡了，晚上睡的时候，由于没有把垫子弄好，导致半夜屁股有点冷，第一次在荒郊野岭和基友同睡，一起在火堆旁吃烧烤，唱歌~ 那个晚上非常难忘~！哈哈~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=aea8e78c34d3d539c53d0fc60abc986d/14ce36d3d539b6005db1c8c5eb50352ac65cb741.jpg?referer=1caea6a534d12f2e97129b50f15f&amp;amp;x=.jpg&#34; alt=&#34;霜&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=ce755eed2cdda3cc0fe4b82531d2483c/adaf2edda3cc7cd90853f3ab3b01213fb80e9142.jpg?referer=db9c7ff3c91349542709dd54df40&amp;amp;x=.jpg&#34; alt=&#34;冰&#34;&gt;&lt;/p&gt;
&lt;p&gt;早上起来，路上都结了一层霜，河水都结冰了。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=a8e52b71ca95d143de76e42643cbf03f/b7fd5266d0160924415a6569d60735fae6cd3441.jpg?referer=60c04b434890f6035da7a9777440&amp;amp;x=.jpg&#34; alt=&#34;烤火&#34;&gt;&lt;/p&gt;
&lt;p&gt;烤火取暖&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=d661804c0ef3d7ca08f63f73c224cf34/730e0cf3d7ca7bcb4405005dbc096b63f624a842.jpg?referer=fe3d38c267380cd7bf0997dd0840&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=b85d2f16544e9258a23486ebacb9a065/dc54564e9258d10902a06ec0d358ccbf6c814d05.jpg?referer=7982318cc1fdfc03bc6fd688ab1b&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;早晨的阳光，11点左右照到峡谷里头。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=67615a91ff1f4134e437057b1524e4f7/a9d3fd1f4134970af131d75d97cad1c8a7865d06.jpg?referer=40b4cb99b4fd5266fe3c09249b1c&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;
&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=32ea2301af4bd11300cdb7376a94d532/d043ad4bd11373f0787da8eda60f4bfbfbed0406.jpg?referer=49637543a38b87d609559e2f641d&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;早上11点左右，阳光开始照射到峡谷中，我们安营扎寨的地方，看着阳光，心头暖暖的。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=5a6f341e1238534388cf8724a328c143/c75c10385343fbf2dd546151b27eca8065388f4c.jpg?referer=ea70179fe51190ef58eca7efe942&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=6ee43f53708b4710ca2ffdc9f3f5b2c0/cc11728b4710b9121cb9318cc1fdfc039245224c.jpg?referer=790e235171f082027485a40f8e42&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=0013415be9c4b7453094b713ffc76f2a/b219ebc4b74543a988603dbe1c178a82b901144c.jpg?referer=084e89b608d162d9dcf9572c5443&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;晒帐篷，嘿嘿，偷拍。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=30634e735e6034a82de2b884fb283869/bd315c6034a85edf24f739514b540923dd54754d.jpg?referer=367b0a9ed300baa1e33b728bb343&amp;amp;x=.jpg&#34; alt=&#34;山头&#34;&gt;&lt;/p&gt;
&lt;p&gt;在一个小山头上看扎营地，雪山，下次有机会一定要去。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=7d5f155392ef76c6d4d2fb2ead2d8cc7/e61190ef76c6a7ef56996f54fffaaf51f3de6601.jpg?referer=1a09545caad3fd1f6f1e970ac21f&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=c465c4932d2eb938e86d7af7e559f408/37d12f2eb9389b50df4027208735e5dde7116e01.jpg?referer=41da3efd6e81800a37f2bc3eca1f&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://a.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=b95873893bdbb6fd215be523391fda25/80cb39dbb6fd52663894fb66a918972bd4073601.jpg?referer=277eec558882b90164baf6037200&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=2bf828f648ed2e73f8e98629b73ad0b6/dbb44aed2e738bd4ae9e7543a38b87d6277ff901.jpg?referer=487940b941166d22616020a4471f&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=a4b4a024d2160924d825a21ee43c47c7/b8014a90f603738dbb3ecb50b11bb051f819ec48.jpg?referer=985a916560d0f703bfa5a0ec4c46&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=0f5a423cc88065387feaa416a7e6d379/cf1b9d16fdfaaf516f9746cd8e5494eef01f7a48.jpg?referer=dd7d6548324e251fbbe0d1c8c646&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=f6cad75d97cad1c8d4bbfc224f051634/241f95cad1c8a7860f938d7c6509c93d70cf5003.jpg?referer=cfa0595a952bd4071bd0e6cd9001&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;收拾完，在附近的小溪丛林里头玩耍。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://g.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=f7726548324e251fe6f7e4fd97bdbb2a/9d82d158ccbf6c81364ceb9abe3eb13533fa404d.jpg?referer=60ce267d8594a4c25334d21ba043&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://f.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=eb48c8b13887e9504617f3692003217e/d8f9d72a6059252d8962da76369b033b5bb5b94f.jpg?referer=167e5eed2cdda3cc52f38d100745&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;小溪边上找的石子&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=a221feb633adcbef05347e039c945ce0/faf2b2119313b07eb803977a0ed7912397dd8c02.jpg?referer=e26c8484a5efce1bb33cfdfaec00&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;看到暖暖的阳光丛林小溪，情不自禁自拍一张，哈哈，有点屌丝~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=73973abec1cec3fd8f3ea770e6b3a602/c8177f3e6709c93dba4ac9859d3df8dcd100540c.jpg?referer=ff7f148f79899e5121990f249402&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://e.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=c28f9921f4246b607f0eb271dbc36871/ac345982b2b7d0a27072c3efc9ef76094b369a0d.jpg?referer=e868025d38292df5ced49925e603&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=80458b730855b31998f982707392f01b/1c950a7b02087bf42557909bf0d3572c11dfcf0d.jpg?referer=d9a299220e338744c5d21a4c2903&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;背上装备准备回程,路上老宋爬树。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=d842450741a98226bcc12b22bab9cb3c/0bd162d9f2d3572c22595bae8813632762d0c30d.jpg?referer=d87ee80e530fd9f9f90060592d03&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;天天向上。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=3e95b376950a304e5622a0ffe1f3d6bb/4034970a304e251f5640238aa586c9177f3e5309.jpg?referer=7577a024d21609248532972b9d07&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;途中，向导打到的獾猪，沦为战利品，轮番拍照~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=01562342b8a1cd1101b672258929bac1/c995d143ad4bd1138a7a704058afa40f4bfb0509.jpg?referer=725e415e8501a18ba9fc277f6308&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;途中，俩老外骑着山地自行车在山谷里头骑行，佩服啊~，经过让路的时候，“hello,谢谢”，“hi,不客气~”。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://c.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=a27fc6d9013b5bb5bad720fb06e8a704/00e93901213fb80ef1a7a6a534d12f2eb938944a.jpg?referer=571fa40c9058d1099df49c82d448&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;太阳渐渐下上。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;r=180;q=90;c=xiangce,100,100/sign=3bde415be9c4b7453094b713ffc76c2a/03087bf40ad162d9c358a56e13dfa9ec8a13cd0a.jpg?referer=3db87506e9f81a4c7f25d9f92b08&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;天上白云一朵朵，地上牛粪一坨坨。哈哈~~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://h.hiphotos.bdimg.com/album/s=550;q=90;c=xiangce,100,100/sign=6060e39dabec8a13101a57e5c738e0b2/10dfa9ec8a136327559c0541938fa0ec08fac74b.jpg?referer=e066921b272dd42a061e349b2149&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;到达向导家里，开吃~！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://b.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=6a5fbb160b23dd542573a76de132c1e3/b58f8c5494eef01f9b65dfb7e2fe9925bc317d4b.jpg?referer=708455c4cb177f3e4923c93dbb49&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;当地一位老奶奶卖的好小的柿子，走的时候，貌似都买了，还不错~！&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;img src=&#34;http://d.hiphotos.bdimg.com/album/s=550;r=90;q=90;c=xiangce,100,100/sign=0377318cc1fdfc03e178e3bde404f5a9/7e3e6709c93d70cff04c6d7ffadcd100baa12b0a.jpg?referer=2d4689cb9c510fb3210e42a79508&amp;amp;x=.jpg&#34; alt=&#34;enter image description here&#34;&gt;&lt;/p&gt;
&lt;p&gt;离开时，拍的。再见~！&lt;/p&gt;
&lt;h2 id=&#34;感悟&#34;&gt;感悟&lt;/h2&gt;
&lt;p&gt;以后还是好好准备去做，做事别太仓促了，不过该做的，说做就做吧(因为有些时候，时间是不等人的)，即使是错的，在途中慢慢意识到，也有可能在正确的时间回到正常的轨道上。&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>像黑客一样写博客</title>
      <link>https://weedge.github.io/post/hello/</link>
      <pubDate>Tue, 01 Jan 2013 20:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/hello/</guid>
      
        <description>&lt;h2 id=&#34;背景&#34;&gt;背景&lt;/h2&gt;
&lt;p&gt;最近一段时间想整个博客，来记录一些事情，感觉记忆力不如从前了，想起以前有位老程序员，身边总是挂一个小挎包，装了一些小便条(todo list)；我想人的精力是有限的，当做完一件事， 过段时间，可能忘了曾今做过的事，说的话；本来想用worldpress，但是貌似需要申请空间，不同以往了，现在都是收费的了，无意间发现了&lt;a href=&#34;http://octopress.org/docs/&#34;&gt;octopress&lt;/a&gt;,这是个好东东啊，轻量级的，不像worldpress臃肿，不需要使用mysql,通过git直接可以部署到github pages上搭建一个副本。也可以部署到&lt;a href=&#34;http://www.heroku.com/&#34;&gt;heroku&lt;/a&gt;；国内好像也有对octopress的部署支持。&lt;/p&gt;
&lt;h2 id=&#34;octopress&#34;&gt;octopress&lt;/h2&gt;
&lt;p&gt;在开始写过程之前先说下为毛这样做，其实也是觉得对新鲜的东东比较感兴趣吧！&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;用octopress写博客，就像网上说的-像黑客一样写博客，貌似需要那么一点伪技术，看上去就像geek那样啦~~ 呵呵。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;整个服务的搭建是完全免费的，也许对于我这个比较穷困专业挨踢男来说是一个开源节流的渠道吧。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用octopress来写博客，支持&lt;a href=&#34;http://wowubuntu.com/markdown/basic.html&#34;&gt;markdown&lt;/a&gt;,和&lt;a href=&#34;http://en.wikipedia.org/wiki/Haml&#34;&gt;haml&lt;/a&gt;,
个人喜欢使用前者，github上可以直接对其编辑；而且主要的是用命令来发布，这动作很cool,like it~!,感觉比较碉，哎呦，不错哦~！
可以使用&lt;code&gt;rake -T&lt;/code&gt;来查看信息,发布常用的命令:
&lt;code&gt;rake install[theme]  rake preview  rake new_post[title]  rake generate  rake deploy&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最后是可以离线写博客还是挺爽的，用git对文章进行备份，以及静态页面生成，style也不错。&lt;/p&gt;
&lt;p&gt;这里不具体的介绍octpress搭建在gitHub的过程，可以查看octpress的在线文档，说的很清楚的。
不过在deploy的时候可能需要ssh key,在终端执行：
&lt;code&gt;[[ -f ~/.ssh/id_rsa.pub ]] || ssh-keygen -t rsa&lt;/code&gt;
将其显示:
&lt;code&gt;[[ -f ~/.ssh/id_rsa.pub ]] &amp;amp;&amp;amp; cat ~/.ssh/id_rsa.pub&lt;/code&gt;
然后进入&lt;a href=&#34;https://github.com/account/ssh&#34;&gt;https://github.com/account/ssh&lt;/a&gt;中点击Add another public key，粘贴前面步骤复制的信息，请格外注意，不要在Title中填写内容，直接将复制的内容粘贴到Key中，然后点击：Add Key即可。
还可以参考：&lt;a href=&#34;https://help.github.com/articles/generating-ssh-keys&#34;&gt;github上的帮助文档&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;由于自己对ruby不熟悉，但是想使用tag插件，不想使用octpress自带的分类插件，所以在网上找了下，采用了&lt;a href=&#34;https://github.com/jsw0528/octopress/tree/mrzhang_me/&#34;&gt;https://github.com/jsw0528/octopress/tree/mrzhang_me/&lt;/a&gt;这个风格，与原始版本的的区别如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/.rvmrc&#34;&gt;.Rvmrc&lt;/a&gt;&lt;br&gt;
神仙同学用的是Ruby1.9.3，Octopress最低要求1.9.2(采用rvm安装ruby,比较方便)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/Gemfile&#34;&gt;Gemfile&lt;/a&gt;&lt;br&gt;
源改成了ruby.taobao.org的，去掉了部分gem的版本号限制&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/Rakefile&#34;&gt;Rakefile&lt;/a&gt;&lt;br&gt;
这个文件可以修改自己喜欢的编辑方式(haml,markdown)，octopress默认使用markdown,作者采用haml,
修改了时区，降低主题对custom目录的依赖&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/_config.yml&#34;&gt;_config.yml&lt;/a&gt;&lt;br&gt;
定制化配置信息，日期格式、永久链接、微博，评论(默认支持disqus,可以使用国内的多说)等等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/plugins/sh_js.rb&#34;&gt;Plugins/sh_js.rb&lt;/a&gt;&lt;br&gt;
代码高亮插件(plugins是用ruby写的插件库，自己可以扩展)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/plugins/tag_generator.rb&#34;&gt;Plugins/tag_generator.rb&lt;/a&gt;&lt;br&gt;
支持中文的Tag插件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jsw0528/octopress/blob/mrzhang_me/.themes/blog/&#34;&gt;.Themes/blog/&lt;/a&gt;&lt;br&gt;
神仙同学的博客主题(./themes主题风格文件夹，可以自己定制)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;总结&#34;&gt;总结&lt;/h2&gt;
&lt;p&gt;在看source(来自第7条所说文件同rake install[theme]复制生成的)源码时，发现采用缓存(&lt;a href=&#34;http://www.cnblogs.com/brainmao/archive/2011/09/27/2193495.html&#34;&gt;Cache Manifest&lt;/a&gt;)，
主要在页面中通过 iframe 来引用offline-cache.html这个静态文件，其中assets.manifest缓存了样式，图片，js信息，
以达到我们不缓存当面页面，只缓存我们希望缓存文件的目的，所以有时候你对其他页面修改了，
比如修改该了post的文件名的话，会以为没有更新成功的情况，其实已经在github服务器上了，要做的就是清除浏览器中的页面缓存或者按Ctrl+F5刷新下。&lt;/p&gt;
&lt;p&gt;ok~ 开始像黑客一样写博客吧~！&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.yangzhiping.com/tech/octopress.html&#34;&gt;octopress-黑客一样写博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.yangzhiping.com/tech/r-markdown-knitr.html&#34;&gt;Markdown写作浅谈&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://lucifr.com/2011/12/21/octopress-on-server-and-portable-scheme/&#34;&gt;服务器端Octopress搭建及移动方案&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>happy new year</title>
      <link>https://weedge.github.io/post/happy-new-year/</link>
      <pubDate>Tue, 01 Jan 2013 00:26:23 +0800</pubDate>
      
      <guid>https://weedge.github.io/post/happy-new-year/</guid>
      
        <description>&lt;p&gt;新年开始了，工作了半年，经历一些，懂得一些，认识一些，对自己的未来总是在不断的寻觅中，却迷茫着~，每次家里人问起是否在这个城市待得习惯，不断的问我是否过得好，总是回复家人过得好，放心好了，出门在外，家人总是希望自己能够过得好，而对家人总是报喜不报忧；新年了，有些变化，给自己一些时间，计划似乎永远赶不上变化，改正自己，尽快恢复过来，加油吧~！&lt;/p&gt;
&lt;p&gt;简单踏实就好，奶奶经常给说的话，一直记着。【step by step, 懂得珍惜】&lt;/p&gt;
&lt;p&gt;最近在看柴进写的《看见》, 用心在生活着。去年新年的时候，她的&lt;a href=&#34;http://blog.sina.com.cn/chjguancha&#34;&gt;博客&lt;/a&gt;中有句话摘抄下来：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;“有人问，你的新年计划是什么？ 谁能计划啥，碰到什么是什么，山高月小，就滴个石，乱石穿空，就拍个岸，遇上高山峡谷，自成江河湖海。但人总得流淌，没这个动作就算完了。 问为了什么？ 啥也不为，这么着高兴，痛快。”&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;happy new year~! 2013 传递笑脸 ^!^  :)&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>
